!function(e){function n(n){for(var t,o,i=n[0],a=n[1],c=0,l=[];c<i.length;c++)o=i[c],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&l.push(r[o][0]),r[o]=0;for(t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);for(s&&s(n);l.length;)l.shift()()}var t={},r={0:0};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.e=function(e){var n=[],t=r[e];if(0!==t)if(t)n.push(t[2]);else{var i=new Promise((function(n,o){t=r[e]=[n,o]}));n.push(t[2]=i);var a,c=document.createElement("script");c.charset="utf-8",c.timeout=120,o.nc&&c.setAttribute("nonce",o.nc),c.src=function(e){return o.p+""+({1:"vendors~tone"}[e]||e)+".bundle.js"}(e);var s=new Error;a=function(n){c.onerror=c.onload=null,clearTimeout(l);var t=r[e];if(0!==t){if(t){var o=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,t[1](s)}r[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:c})}),12e4);c.onerror=c.onload=a,document.head.appendChild(c)}return Promise.all(n)},o.m=e,o.c=t,o.d=function(e,n,t){o.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,n){if(1&n&&(e=o(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(o.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)o.d(t,r,function(n){return e[n]}.bind(null,r));return t},o.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(n,"a",n),n},o.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},o.p="",o.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=n,i=i.slice();for(var c=0;c<i.length;c++)n(i[c]);var s=a;o(o.s=26)}([function(e,n,t){var r=t(13),o=t(14);e.exports=function(e){return r(e)||o(e)}},function(e,n,t){"use strict";var r=t(0),o=t(2),i=/\s*\|\s*|\s*,\s*|\s+/;function a(e){return c(e)?e:"string"==typeof e?e.trim().split(i):null==e?[]:[e]}var c=Array.isArray;function s(e){return c(e)?o(e):e}function l(e){return e}function u(e,n){return arguments.length>1?u(e)(n):function(n){var t=a(n);if(!1===e)return t;if(null===e)e=l;else if("function"!=typeof e)throw Error("Invalid function");if(c(t[0]))return e(t);var o=e(t.map(r));return c(o)?o.map(s):o}}var d={transform:u,split:u(!1),map:function e(n,t){return arguments.length>1?e(n)(t):u((function(e){return e.map(n)}))},reduce:function e(n,t,r){return 1===arguments.length?function(t,r){return e(n,t,r)}:arguments.length>2?e(n,t)(r):u((function(e){return e.reduce(n,t)}))},filter:function e(n,t){return arguments.length>1?e(n)(t):u((function(e){return e.filter(n)}))},rotate:function(e,n){var t=a(n),r=t.length,o=(e%r+r)%r;return t.slice(o,r).concat(t.slice(0,o))},select:function e(n,t){if(1===arguments.length)return function(t){return e(n,t)};var r=a(t);return a(n).map((function(e){return r[e-1]}))}};e.exports&&(e.exports=d),"undefined"!=typeof window&&(window.gamut=d)},function(e,n,t){var r=t(17),o=t(19);e.exports=function(e){return r(e)||o(e)}},function(e,n,t){"use strict";var r=t(12),o=t(21),i=t(24),a=t(5);function c(e,n){if(1===arguments.lenght)return function(n){return c(e,n)};var t=i[e];return"string"==typeof t&&(t=i[t]),t||(t=r(e)),o(t,n)}c.get=function(e){var n=a.exec(e);return n&&n[5]?c(n[5],n[1]+n[2]+n[3]):[]},c.names=function(e){return e?Object.keys(i):Object.keys(i).reduce((function(e,n){return"string"!=typeof i[n]&&e.push(n),e}),[])},e.exports=c},function(e,n,t){"use strict";e.exports=function(e){var n={};return function(t){return"string"!=typeof t?null:t in n?n[t]:n[t]=e(t)}}},function(e,n,t){"use strict";e.exports=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)(\/\d+|)\s*(.*)\s*$/},function(e,n,t){"use strict";var r=[[3,1],[0,0],[4,0],[1,-1],[5,-1],[2,-2],[6,-2],[3,-3]];e.exports=function(e){if(!Array.isArray(e))return null;var n=(e[0]+1)%7;n<0&&(n=7+n);var t=r[n],o=Math.floor((e[0]+1)/7),i=1===e.length?null:e[1]-t[1]+4*o,a=e[2]||null;return[t[0],o,i,a]}},function(e,n,t){"use strict";function r(e,n){return 1===n?e:function(n,t){return 1===arguments.length?function(t){return e(n,t)}:e(n,t)}}e.exports=function e(n,t,o){return 2===arguments.length?function(r){return e(n,t,r)}:r((function(e,r){var i=n(e),a=n(r);if(!i&&!a)return o(e,r);var c=o(i||e,a||r);return t(c)||c}),o.length)}},function(e,n,t){var r=t(9),o=t(10);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);e.exports=o.locals||{}},function(e,n,t){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function c(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},r=[],o=0;o<e.length;o++){var i=e[o],s=n.base?i[0]+n.base:i[0],l=t[s]||0,u="".concat(s," ").concat(l);t[s]=l+1;var d=c(u),f={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(a[d].references++,a[d].updater(f)):a.push({identifier:u,updater:h(f,n),references:1}),r.push(u)}return r}function l(e){var n=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){n.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var u,d=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join("\n")});function f(e,n,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(n,o);else{var i=document.createTextNode(o),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function m(e,n,t){var r=t.css,o=t.media,i=t.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var b=null,p=0;function h(e,n){var t,r,o;if(n.singleton){var i=p++;t=b||(b=l(n)),r=f.bind(null,t,i,!1),o=f.bind(null,t,i,!0)}else t=l(n),r=m.bind(null,t,n),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return r(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;r(e=n)}else o()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o());var t=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<t.length;r++){var o=c(t[r]);a[o].references--}for(var i=s(e,n),l=0;l<t.length;l++){var u=c(t[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}t=i}}}},function(e,n,t){(n=t(11)(!1)).push([e.i,"html {\n  width: 100%;\n  height: 100%;\n  margin: none;\n  padding: none;\n  font-size: 16px;\n  font-family: sans-serif;\n  background-color: #ff0088;\n  color: #fff;\n}\n\n:focus { outline:none; }\n::-moz-focus-inner { border:0; }\n\nlabel {\n  font-weight: bold;\n}\n\n.loader, .message {\n  position: absolute;\n  top: 0;\n  left: 0;\n  text-align: center;\n  font-size: 2rem;\n  display: none;\n}\n\n.message {\n  top: 50vh;\n  left: 50vw;\n  transform: translate(-50%, -50%);\n  background-color: #000;\n  padding: 2rem 0;\n  cursor: pointer;\n  width: 100vw;\n}\n\n.loader {\n  background-color: #ff0088;\n  width: 100vw;\n  line-height: 100vh;\n}\n\n.loader.loading-data, .loader.loading-audio {\n  display: block;\n}\n\n.message.visible {\n  display: block;\n}\n\n.visualizer {\n  position: absolute;\n  top: 0;\n  left: 0;\n  z-index: -1;\n  max-width: 100vw;\n  max-height: 100vh;\n}\n\n.endpoint-selector, .tonic-selector, .scale-selector, .btn-audio, .btn-reset {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  font-weight: bold;\n  color: #fff;\n  font-size: 2rem;\n  line-height: 2rem;\n  border: none;\n  background-color: transparent;\n}\n\n.tonic-selector, .scale-selector, .btn-audio, .btn-reset {\n  position: absolute;\n  bottom: 2rem;\n}\n\n.tonic-selector, .scale-selector {\n  font-size: 1.5rem;\n  text-align: right;\n  text-align-last: right;\n}\n\n.tonic-selector option, .scale-selector option {\n  color: #000;\n  font-size: 1rem;\n}\n\n.tonic-selector {\n  width: 2rem;\n  right: 2rem;\n}\n\n.scale-selector {\n  right: 4rem;\n}\n\nbutton {\n  height: 2rem;\n}\n\nbutton:disabled {\n  opacity: 0.6;\n}\n\n.btn-audio {\n  left: 2rem;\n}\n\n.btn-audio:before, .btn-reset:before {\n  font-size: 0.5em;\n  line-height: 2rem;\n  vertical-align: text-top;\n}\n\n.btn-audio:before, .btn-reset:before {\n  content: '\\2590\\A0\\258C';\n}\n\n.btn-audio.paused:before {\n  font-size: 1em;\n  content: '\\25BA';\n}\n\n.btn-reset {\n  left: 11rem;\n  font-size: 1rem;\n  line-height: 1rem;\n  height: 1.5rem;\n}\n\n.btn-reset:before {\n  line-height: 1rem;\n  font-size: 1.25em;\n  content: '\\21BB';\n}\n\n.endpoint-selector {\n  font-size: 1rem;\n}\n\n.playlist {\n  font-size: 0.8rem;\n  color: #ffffff;\n  font-weight: bold;\n}\n",""]),e.exports=n},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",r=e[3];if(!r)return t;if(n&&"function"==typeof btoa){var o=(a=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([o]).join("\n")}var a,c,s;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},function(e,n,t){"use strict";var r=t(1),o=t(20);function i(e){return 2===e.length?[e[0],-Math.floor(7*e[0]/12)]:[e[0]]}function a(e,n){return e[0]===n[0]}e.exports=function(e){return r.transform((function(e){if(0===e.length)return[];var n=function(e){var n=o(!0,e);return n.reduce((function(e,t,r){return 0!==r&&a(n[r-1],t)||e.push(t),e}),[])}(e.map(i));return 2!==n[0].length&&(n=function(e,n){return r.rotate(function(e,n){for(var t=0,r=n.length;t<r;t++)if(a(e,n[t]))return t}(e,n),n)}(e[0],n)),n}))(e)}},function(e,n,t){"use strict";var r=t(4),o=t(5),i={C:[0,0],D:[2,-1],E:[4,-2],F:[-1,1],G:[1,0],A:[3,-1],B:[5,-2]};e.exports=r((function(e){var n=o.exec(e);if(!n||n[5])return null;var t=i[n[1].toUpperCase()],r=n[2].replace(/x/g,"##").length;"b"===n[2][0]&&(r*=-1);var a=t[0]+7*r;return n[3]?[a,+n[3]+t[1]-4*r,n[4]?+n[4].substring(1):null]:[a]}))},function(e,n,t){"use strict";var r=t(4),o=t(15),i=t(16),a={P:{dddd:-4,ddd:-3,dd:-2,d:-1,P:0,A:1,AA:2,AAA:3,AAAA:4},M:{ddd:-4,dd:-3,d:-2,m:-1,M:0,A:1,AA:2,AAA:3,AAAA:4}};e.exports=r((function(e){var n=i.exec(e);if(!n)return null;var t,r="-"===(n[2]||n[7])?-1:1,c=+(n[3]||n[8])-1,s=n[4]||n[6]||"",l=c%7;if(""===s)t=0;else if("#"===s[0])t=s.length;else if("b"===s[0])t=-s.length;else if(void 0===(t=a["PMMPPMM"[l]][s]))return null;var u=Math.floor(c/7),d=o(l,t,u);return 1===r?d:[-d[0],-d[1]]}))},function(e,n,t){"use strict";var r=[[0,0],[2,-1],[4,-2],[-1,1],[1,0],[3,-1],[5,-2]];e.exports=function(e,n,t,o){var i=r[e];n=n||0;var a=i[0]+7*n;if(void 0===t)return[a];var c=t+i[1]-4*n;return void 0===o?[a,c]:[a,c,o]}},function(e,n){e.exports=new RegExp("^(?:(([-+]?)(\\d+)(d{1,4}|m|M|P|A{1,4}|b{1,4}|#{1,4}|))|((AA|A|P|M|m|d|dd)([-+]?)(\\d+)))$")},function(e,n,t){"use strict";var r=t(6),o=t(18),i={};e.exports=function(e){if(!Array.isArray(e)||e.length<1||2===e.length)return null;var n,t="|"+e[0]+"|"+e[1]+"|"+e[2];return t in i?i[t]:i[t]=(n=r(e),a[n[0]]+o(n[1])+(null!==n[2]?n[2]:"")+(null!==n[3]?"/"+n[3]:""))};var a=["C","D","E","F","G","A","B"]},function(e,n,t){"use strict";e.exports=function(e){return e<0?Array(1-e).join("b"):e>0?Array(e+1).join("#"):""}},function(e,n,t){"use strict";var r=t(6),o={};e.exports=function(e){if(!Array.isArray(e)||2!==e.length)return null;var n="|"+e[0]+"|"+e[1];return n in o?o[n]:o[n]=function(e){var n,t,o,a=r(e),c="PMMPPMM"[a[0]];a[2]<0?(n=-1,t=8-a[0]-7*(a[2]+1),o="P"===c?-a[1]:-(a[1]+1)):(n=1,t=a[0]+1+7*a[2],o=a[1]);var s=i[c][4+o];return n*t+s}(e)};var i={P:["dddd","ddd","dd","d","P","A","AA","AAA","AAAA"],M:["ddd","dd","d","m","M","A","AA","AAA","AAAA"]}},function(e,n,t){"use strict";var r=t(1).transform;function o(e,n){return a(e)-a(n)}function i(e,n){return-o(e,n)}function a(e){if(!e)return-1/0;var n=7*e[0];return n+12*(e[1]||0===e[1]?e[1]:-Math.floor(n/12)-10)}e.exports=function e(n,t){return arguments.length>1?e(n)(t):(null===n||!0===n?n=o:!1===n&&(n=i),r((function(e){return e.sort(n)})))}},function(e,n,t){"use strict";var r=t(0),o=t(1),i=t(22),a=t(23);function c(e,n){return 1===arguments.length?function(n){return c(e,n)}:o.transform((function(e){if(null===n)return e;var t=e[0],o=e.map(i(t));return!1===n?o:(n=r(n),o.map(a(n)))}),e)}e.exports&&(e.exports=c),"undefined"!=typeof window&&(window.harmonize=c)},function(e,n,t){var r=t(0),o=t(2),i=t(7)(r,o);e.exports=i((function(e,n){if(!Array.isArray(e)||!Array.isArray(n))return null;if(1===e.length||1===n.length){var t=n[0]-e[0];return[t,-Math.floor(7*t/12)]}return[n[0]-e[0],n[1]-e[1]]}))},function(e,n,t){var r=t(0),o=t(2),i=t(7)(r,o)((function(e,n){if(!1===e)return n;if(!Array.isArray(e)||!Array.isArray(n))return null;if(1===e.length||1===n.length)return[n[0]+e[0]];var t=2===e.length&&2===n.length?null:n[2]||e[2];return[n[0]+e[0],n[1]+e[1],t]}));e.exports&&(e.exports=i),"undefined"!=typeof window&&(window.transpose=i)},function(e,n,t){"use strict";var r=t(25);e.exports=Object.keys(r).reduce((function(e,n){return e[n]=r[n][0].split(" "),r[n][1]&&r[n][1].forEach((function(t){e[t]=n})),e}),{})},function(e){e.exports=JSON.parse('{"lydian":["1 2 3 4# 5 6 7"],"major":["1 2 3 4 5 6 7",["ionian"]],"mixolydian":["1 2 3 4 5 6 7b",["dominant"]],"dorian":["1 2 3b 4 5 6 7b"],"aeolian":["1 2 3b 4 5 6b 7b",["minor"]],"phrygian":["1 2b 3b 4 5 6b 7b"],"locrian":["1 2b 3b 4 5b 6b 7b"],"melodic minor":["1 2 3b 4 5 6 7"],"melodic minor second mode":["1 2b 3b 4 5 6 7b"],"lydian augmented":["1 2 3 4# 5A 6 7"],"lydian dominant":["1 2 3 4# 5 6 7b",["lydian b7"]],"melodic minor fifth mode":["1 2 3 4 5 6b 7b",["hindu","mixolydian b6"]],"locrian #2":["1 2 3b 4 5b 6b 7b"],"locrian major":["1 2 3 4 5b 6b 7b",["arabian"]],"altered":["1 2b 3b 3 5b 6b 7b",["super locrian","diminished whole tone","pomeroy"]],"major pentatonic":["1 2 3 5 6",["pentatonic"]],"lydian pentatonic":["1 3 4# 5 7",["chinese"]],"mixolydian pentatonic":["1 3 4 5 7b",["indian"]],"locrian pentatonic":["1 3b 4 5b 7b",["minor seven flat five pentatonic"]],"minor pentatonic":["1 3b 4 5 7b"],"minor six pentatonic":["1 3b 4 5 6"],"minor hexatonic":["1 2 3b 4 5 7"],"flat three pentatonic":["1 2 3b 5 6",["kumoi"]],"flat six pentatonic":["1 2 3 5 6b"],"major flat two pentatonic":["1 2b 3 5 6"],"whole tone pentatonic":["1 3 5b 6b 7b"],"ionian pentatonic":["1 3 4 5 7"],"lydian #5 pentatonic":["1 3 4# 5A 7"],"lydian dominant pentatonic":["1 3 4# 5 7b"],"minor #7 pentatonic":["1 3b 4 5 7"],"super locrian pentatonic":["1 3b 4d 5b 7b"],"in-sen":["1 2b 4 5 7b"],"iwato":["1 2b 4 5b 7b"],"hirajoshi":["1 2 3b 5 6b"],"kumoijoshi":["1 2b 4 5 6b"],"pelog":["1 2b 3b 5 6b"],"vietnamese 1":["1 3b 4 5 6b"],"vietnamese 2":["1 3b 4 5 7b"],"prometheus":["1 2 3 4# 6 7b"],"prometheus neopolitan":["1 2b 3 4# 6 7b"],"ritusen":["1 2 4 5 6"],"scriabin":["1 2b 3 5 6"],"piongio":["1 2 4 5 6 7b"],"major blues":["1 2 3b 3 5 6"],"minor blues":["1 3b 4 5b 5 7b",["blues"]],"composite blues":["1 2 3b 3 4 5b 5 6 7b"],"augmented":["1 2A 3 5 5A 7"],"augmented heptatonic":["1 2A 3 4 5 5A 7"],"dorian #4":["1 2 3b 4# 5 6 7b"],"lydian diminished":["1 2 3b 4# 5 6 7"],"whole tone":["1 2 3 4# 5A 7b"],"leading whole tone":["1 2 3 4# 5A 7b 7"],"harmonic minor":["1 2 3b 4 5 6b 7"],"lydian minor":["1 2 3 4# 5 6b 7b"],"neopolitan":["1 2b 3b 4 5 6b 7"],"neopolitan minor":["1 2b 3b 4 5 6b 7b"],"neopolitan major":["1 2b 3b 4 5 6 7",["dorian b2"]],"neopolitan major pentatonic":["1 3 4 5b 7b"],"romanian minor":["1 2 3b 5b 5 6 7b"],"double harmonic lydian":["1 2b 3 4# 5 6b 7"],"diminished":["1 2 3b 4 5b 6b 6 7"],"harmonic major":["1 2 3 4 5 6b 7"],"double harmonic major":["1 2b 3 4 5 6b 7",["gypsy"]],"egyptian":["1 2 4 5 7b"],"hungarian minor":["1 2 3b 4# 5 6b 7"],"hungarian major":["1 2A 3 4# 5 6 7b"],"oriental":["1 2b 3 4 5b 6 7b"],"spanish":["1 2b 3 4 5 6b 7b",["phrygian major"]],"spanish heptatonic":["1 2b 3b 3 4 5 6b 7b"],"flamenco":["1 2b 3b 3 4# 5 7b"],"balinese":["1 2b 3b 4 5 6b 7"],"todi raga":["1 2b 3b 4# 5 6b 7"],"malkos raga":["1 3b 4 6b 7b"],"kafi raga":["1 3b 3 4 5 6 7b 7"],"purvi raga":["1 2b 3 4 4# 5 6b 7"],"persian":["1 2b 3 4 5b 6b 7"],"bebop":["1 2 3 4 5 6 7b 7"],"bebop dominant":["1 2 3 4 5 6 7b 7"],"bebop minor":["1 2 3b 3 4 5 6 7b"],"bebop major":["1 2 3 4 5 5A 6 7"],"bebop locrian":["1 2b 3b 4 5b 5 6b 7b"],"minor bebop":["1 2 3b 4 5 6b 7b 7"],"mystery #1":["1 2b 3 5b 6b 7b"],"enigmatic":["1 2b 3 5b 6b 7b 7"],"minor six diminished":["1 2 3b 4 5 6b 6 7"],"ionian augmented":["1 2 3 4 5A 6 7"],"lydian #9":["1 2b 3 4# 5 6 7"],"ichikosucho":["1 2 3 4 5b 5 6 7"],"six tone symmetric":["1 2b 3 4 5A 6"]}')},function(e,n,t){"use strict";t.r(n);var r={};t.r(r),t.d(r,"EVENT_PLAY",(function(){return c})),t.d(r,"EVENT_PAUSE",(function(){return s})),t.d(r,"EVENT_RESET",(function(){return l})),t.d(r,"EVENT_PLAYBACK",(function(){return u})),t.d(r,"EVENT_AUDIO_UP",(function(){return d})),t.d(r,"EVENT_AUDIO_DOWN",(function(){return f})),t.d(r,"EVENT_MESSAGE",(function(){return p})),t.d(r,"EVENT_AUDIO_LOADING",(function(){return m})),t.d(r,"EVENT_AUDIO_LOADED",(function(){return b})),t.d(r,"EVENT_DATA_LOADING",(function(){return h})),t.d(r,"EVENT_DATA_LOADED",(function(){return v})),t.d(r,"EVENT_TONIC_CHANGE",(function(){return g})),t.d(r,"EVENT_SCALE_CHANGE",(function(){return E})),t.d(r,"EVENT_ENDPOINT_CHANGE",(function(){return y}));var o={};t.r(o),t.d(o,"fetchData",(function(){return A})),t.d(o,"fetchInterval",(function(){return w}));var i={};t.r(i),t.d(i,"fetchData",(function(){return L})),t.d(i,"fetchInterval",(function(){return x}));var a={};t.r(a),t.d(a,"fetchData",(function(){return j})),t.d(a,"fetchInterval",(function(){return C}));t(8);const c="play",s="pause",l="reset",u="playback",d="audio-up",f="audio-down",m="audio-loading",b="audio-loaded",p="message",h="data-loading",v="data-loaded",g="tonic-change",E="scale-change",y="endpoint-change",w=6e5,A=()=>fetch("https://en.wikipedia.org/w/api.php?action=query&list=recentchanges&rcprop=title|sizes|flags|timestamp&rctype=edit&rclimit=500&origin=*&format=json").then(e=>e.json()).then(e=>e.query.recentchanges.map(e=>({title:`${e.title} (${new Date(e.timestamp).toLocaleDateString()}) ~ ${Math.abs(e.oldlen-e.newlen)}`,value:Math.log(Math.abs(e.oldlen-e.newlen)),start:new Date(e.timestamp).getTime()/1e3,end:new Date(e.timestamp).getTime()/1e3})).filter(e=>e.value>0)),x=18e5,L=()=>fetch("https://hacker-news.firebaseio.com/v0/newstories.json").then(e=>e.json()).then(e=>Promise.all(e.map(e=>fetch("https://hacker-news.firebaseio.com/v0/item/{0}.json".replace("{0}",e)).then(e=>e.json())))).then(e=>e.filter(e=>e&&e.score).map(e=>({title:`${e.title} (${new Date(1e3*e.time).toLocaleDateString()}) ~ ${e.score}`,value:Math.log(e.score),start:e.time,end:e.time}))),C=18e5,j=()=>fetch("https://hacker-news.firebaseio.com/v0/topstories.json").then(e=>e.json()).then(e=>Promise.all(e.map(e=>fetch("https://hacker-news.firebaseio.com/v0/item/{0}.json".replace("{0}",e)).then(e=>e.json())))).then(e=>e.filter(e=>e&&e.score).map(e=>({title:`${e.title} (${new Date(1e3*e.time).toLocaleDateString()}) ~ ${e.score}`,value:Math.log(e.score),start:e.time,end:e.time})));var P={"Wikipedia - Recent changes":o,"Hacker News - New stories":i,"Hacker News - Top stories":a},M=t(3),T=t.n(M);const k=["C","D","E","F","G","A","B"],S=T.a.names(),N={waveform:void 0},O=e=>{const{Waveform:n,Master:t}=e;let r=localStorage.getItem("tonic")||k[0],o=localStorage.getItem("scale")||S[0],i=[],a=0,c=void 0;const s=new n(4096),l=(({Freeverb:e})=>new e(.8,9e3))(e),d=(({Volume:e})=>new e(-10))(e),f=(({Compressor:e})=>new e(-5,16))(e),m=(({Compressor:e})=>new e(-15,8))(e),b=(({Channel:e})=>new e(-20))(e).chain(m,f,l,s,d,t),p=(({PolySynth:e,Synth:n})=>new e(64,n,{oscillator:{type:"triangle"},envelope:{attack:1.5,decay:3,sustain:.05,release:2}}))(e).connect(b),h=()=>{if(clearTimeout(c),0===i.length)return void(c=setTimeout(h,2));const e=i.reduce((e,n)=>Math.min(e,n.value),1/0),n=i.reduce((e,n)=>Math.max(e,n.value),-1/0),t=i[a],s=t.value,l=((e,n)=>{const t=new T.a(e,n);return Array.from(Array(4).keys()).flatMap(e=>t.map(n=>`${n}${3+e}`))})(o,r),d=l[Math.round((s-e)*(l.length-1)/(n-e))],f=i.reduce((e,n)=>Math.min(e,n.start),1/0),m=i.reduce((e,n)=>Math.max(e,n.end),-1/0),b=.5*i.length/(m-f),v=(t.end-t.start)*b;p.triggerAttackRelease(d,Math.max(Math.min(v,4),2)),document.dispatchEvent(new CustomEvent(u,{detail:{title:t.title,pitch:d,playbackIndex:a}})),a=(a+1)%i.length;const g=i[a];c=setTimeout(h,(g.start-t.start>=0?g.start-t.start:t.end-t.start)*(1e3*b))},v=()=>{a=0};return Promise.resolve({waveform:s,onPlay:()=>{h()},onPause:()=>{p.releaseAll(),clearTimeout(c)},onReset:v,onLoadData:(e=[])=>{i=[...e].sort((e,n)=>e.start-n.start),v()},onTonicChange:e=>{r=e},onScaleChange:e=>{o=e}})},D=()=>(document.dispatchEvent(new Event(m)),t.e(1).then(t.t.bind(null,27,7)).then(O).then(({waveform:e,...n})=>{const{onPlay:t,onPause:r,onReset:o,onLoadData:i,onTonicChange:a,onScaleChange:u}=n;document.addEventListener(c,t),document.addEventListener(s,r),document.addEventListener(l,o),document.addEventListener(v,({detail:e})=>i(e)),document.addEventListener(g,({detail:e})=>a(e)),document.addEventListener(E,({detail:e})=>u(e)),N.waveform=e,document.dispatchEvent(new Event(b)),document.dispatchEvent(new Event(d))}).catch(e=>{throw document.dispatchEvent(new Event(f)),document.dispatchEvent(new Event(b)),e})),_=()=>{const e=document.createElement("select");e.classList.add("selector"),e.classList.add("endpoint-selector"),e.id="endpoint_selector",Object.keys(P).forEach(n=>{const t=document.createElement("option");t.value=n,t.textContent=n,localStorage.getItem("endpoint")===n&&(t.selected=!0),e.appendChild(t)}),e.addEventListener("change",e=>{document.dispatchEvent(new CustomEvent(y,{detail:e.target.value})),localStorage.setItem("endpoint",e.target.value)});const n=document.createElement("div");n.classList.add("endpoint-selector-container");const t=document.createElement("label");return t.textContent="Source:",t.htmlFor="endpoint_selector",n.appendChild(t),n.appendChild(e),Promise.resolve(n)},I=()=>{const e=document.createElement("select");return e.classList.add("selector"),e.classList.add("tonic-selector"),k.forEach(n=>{const t=document.createElement("option");t.value=n,t.textContent=n,localStorage.getItem("tonic")===n&&(t.selected=!0),e.appendChild(t)}),e.addEventListener("change",e=>{document.dispatchEvent(new CustomEvent(g,{detail:e.target.value})),localStorage.setItem("tonic",e.target.value)}),Promise.resolve(e)},z=()=>{const e=document.createElement("select");return e.classList.add("selector"),e.classList.add("scale-selector"),S.forEach(n=>{const t=document.createElement("option");t.value=n,t.textContent=n,localStorage.getItem("scale")===n&&(t.selected=!0),e.appendChild(t)}),e.addEventListener("change",e=>{document.dispatchEvent(new CustomEvent(E,{detail:e.target.value})),localStorage.setItem("scale",e.target.value)}),Promise.resolve(e)},V=()=>{const e=document.createElement("button");return e.textContent="Play",e.classList.add("btn-audio"),e.classList.add("paused"),e.disabled=!0,e.addEventListener("click",()=>document.dispatchEvent(new Event(e.classList.contains("paused")?c:s))),document.addEventListener(c,()=>{e.classList.remove("paused"),e.textContent="Pause"}),document.addEventListener(s,()=>{e.classList.add("paused"),e.textContent="Play"}),document.addEventListener(d,()=>{e.disabled=!1}),document.addEventListener(f,()=>{e.disabled=!0}),Promise.resolve(e)},R=()=>{const e=document.createElement("button");return e.textContent="Reset",e.classList.add("btn-reset"),e.disabled=!0,e.addEventListener("click",()=>{e.disabled=!0,document.dispatchEvent(new Event(l))}),document.addEventListener(u,({detail:{playbackIndex:n}})=>{e.disabled=0===n}),Promise.resolve(e)},$=()=>{const e=document.createElement("div");e.textContent="Loading...",e.classList.add("loader");const n=()=>{const n=Array.from(e.classList).filter(e=>e.startsWith("loading-")).map(e=>e.replace("loading-",""));e.textContent=`Loading ${n.join(", ")}...`};return document.addEventListener(m,()=>{e.classList.add("loading-audio"),n()}),document.addEventListener(b,()=>{e.classList.remove("loading-audio"),n()}),document.addEventListener(h,()=>{e.classList.add("loading-data"),n()}),document.addEventListener(v,()=>{e.classList.remove("loading-data"),n()}),Promise.resolve(e)},U=()=>{const e=document.createElement("div");return e.classList.add("message"),document.addEventListener(p,({detail:n})=>{e.classList.add("visible"),e.textContent=n}),e.addEventListener("click",()=>{e.classList.remove("visible"),e.textContent=void 0}),Promise.resolve(e)},B=()=>{const e=document.createElement("div");return e.classList.add("playlist"),document.addEventListener(u,({detail:{title:n}})=>{const t=document.createElement("div");for(t.classList.add("playlist-item"),t.textContent=n,e.prepend(t);e.childElementCount>10;)e.removeChild(e.lastChild)}),Promise.resolve(e)},G=()=>{const e=document.createElement("canvas");e.classList.add("visualizer"),e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight});const n=()=>{const t=N.waveform&&N.waveform.getValue();if(!t)return requestAnimationFrame(n);const r=e.getContext("2d"),{width:o,height:i}=e;r.clearRect(0,0,o,i),r.fillStyle="#00dddd",r.lineCap="round",r.beginPath(),r.moveTo(0,i);for(let e=0;e<t.length;e++){const n=e*o/t.length,a=(t[e]+1)*(i/2);r.lineTo(n,a)}r.lineTo(o,i),r.lineTo(0,i),r.fill(),requestAnimationFrame(n)};return n(),Promise.resolve(e)};window.DEBUG&&Object.values(r).forEach(e=>document.addEventListener(e,n=>console.info(e,...n.detail?[n.detail]:[]))),Promise.all([G(),_(),I(),z(),V(),R(),U(),$(),B()]).then(e=>(e=>(Object.values(e).forEach(e=>document.body.appendChild(e)),Promise.resolve(!0)))(e)).then(()=>D()).then(()=>(()=>{let e=void 0;const n=t=>(clearTimeout(e),t.fetchData().then(e=>document.dispatchEvent(new CustomEvent(v,{detail:e}))).then(()=>{t.fetchInterval&&(e=setTimeout(()=>n(t),t.fetchInterval))}).catch(e=>{throw document.dispatchEvent(new Event(v)),e}));document.addEventListener(y,({detail:e})=>{const t=P[e];document.dispatchEvent(new Event(h)),n(t).catch(e=>document.dispatchEvent(new CustomEvent(p,{detail:e.message})))});const t=localStorage.getItem("endpoint")||Object.keys(P).shift(),r=P[t];return document.dispatchEvent(new Event(h)),n(r)})()).catch(e=>{console.error(e),document.dispatchEvent(new CustomEvent(p,{detail:e.message}))})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c2ljLW5vdGF0aW9uL3BpdGNoL3BhcnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdXNpYy1nYW11dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vcGl0Y2gvc3RyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdXNpYy1zY2FsZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vbWVtb2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vbm90ZS9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vYXJyYXkvdG8tcHJvcHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c2ljLW5vdGF0aW9uL29wZXJhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguY3NzP2NmZTQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl0Y2gtc2V0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdXNpYy1ub3RhdGlvbi9ub3RlL3BhcnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdXNpYy1ub3RhdGlvbi9pbnRlcnZhbC9wYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vYXJyYXkvZnJvbS1wcm9wcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbXVzaWMtbm90YXRpb24vaW50ZXJ2YWwvcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c2ljLW5vdGF0aW9uL25vdGUvc3RyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tdXNpYy1ub3RhdGlvbi9hY2NpZGVudGFscy9zdHIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL211c2ljLW5vdGF0aW9uL2ludGVydmFsL3N0ci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGl0Y2gtc29ydC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm90ZS1oYXJtb25pemVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub3RlLWludGVydmFsL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub3RlLXRyYW5zcG9zZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3NjYWxlLWRpY3Rpb25hcnkvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2V2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZW5kcG9pbnRzL3dpa2lwZWRpYS9yZWNlbnRjaGFuZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmRwb2ludHMvaGFja2VyTmV3cy9uZXdzdG9yaWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmRwb2ludHMvaGFja2VyTmV3cy90b3BzdG9yaWVzLmpzIiwid2VicGFjazovLy8uL3NyYy9lbmRwb2ludHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL211c2ljLmpzIiwid2VicGFjazovLy8uL3NyYy9hdWRpby5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZWxlbWVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhLmpzIl0sIm5hbWVzIjpbIndlYnBhY2tKc29ucENhbGxiYWNrIiwiZGF0YSIsIm1vZHVsZUlkIiwiY2h1bmtJZCIsImNodW5rSWRzIiwibW9yZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJPYmplY3QiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImluc3RhbGxlZE1vZHVsZXMiLCIwIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJtb2R1bGUiLCJsIiwiZSIsInByb21pc2VzIiwiaW5zdGFsbGVkQ2h1bmtEYXRhIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwib25TY3JpcHRDb21wbGV0ZSIsInNjcmlwdCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImNoYXJzZXQiLCJ0aW1lb3V0IiwibmMiLCJzZXRBdHRyaWJ1dGUiLCJzcmMiLCJwIiwianNvbnBTY3JpcHRTcmMiLCJlcnJvciIsIkVycm9yIiwiZXZlbnQiLCJvbmVycm9yIiwib25sb2FkIiwiY2xlYXJUaW1lb3V0IiwiY2h1bmsiLCJlcnJvclR5cGUiLCJ0eXBlIiwicmVhbFNyYyIsInRhcmdldCIsIm1lc3NhZ2UiLCJuYW1lIiwicmVxdWVzdCIsInVuZGVmaW5lZCIsInNldFRpbWVvdXQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJhbGwiLCJtIiwiYyIsImQiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJvZSIsImVyciIsImNvbnNvbGUiLCJqc29ucEFycmF5Iiwid2luZG93Iiwib2xkSnNvbnBGdW5jdGlvbiIsInNsaWNlIiwicyIsIm5vdGUiLCJpbnRlcnZhbCIsInBhcnNlIiwic3RyIiwiU0VQIiwic3BsaXQiLCJzb3VyY2UiLCJpc0FycmF5IiwidHJpbSIsIkFycmF5IiwidG9TdHIiLCJpZCIsInRyYW5zZm9ybSIsImZuIiwiYXJndW1lbnRzIiwiZyIsInYiLCJtYXAiLCJHIiwicmVkdWNlIiwiYWNjIiwiYSIsImZpbHRlciIsInJvdGF0ZSIsImNvdW50IiwibGVuIiwiY29uY2F0Iiwic2VsZWN0IiwibnVtcyIsImdhbXV0Iiwic2V0IiwiaGFybW9uaXplciIsInJlZ2V4Iiwic2NhbGUiLCJ0b25pYyIsImxlbmdodCIsImludGVydmFscyIsImV4ZWMiLCJuYW1lcyIsImFsaWFzZXMiLCJrZXlzIiwiY2FjaGUiLCJCQVNFUyIsImFyciIsImluZGV4IiwiYmFzZSIsImFsdGVyIiwiTWF0aCIsImZsb29yIiwib2N0IiwiZHVyIiwiY3VycnkiLCJhcml0eSIsImIiLCJvcCIsImYiLCJhYyIsImJjIiwiYXBpIiwiY29udGVudCIsImRlZmF1bHQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwiYXRvYiIsImdldFRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50Iiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiYXR0cmlidXRlcyIsIm5vbmNlIiwiZm9yRWFjaCIsImluc2VydCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJqb2luIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJwYXJlbnROb2RlIiwicmVtb3ZlU3R5bGVFbGVtZW50IiwibmV3T2JqIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsInRvU3RyaW5nIiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJzcGxpY2UiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJ1c2VTb3VyY2VNYXAiLCJ0aGlzIiwiY3NzTWFwcGluZyIsInNvdXJjZU1hcHBpbmciLCJiYXNlNjQiLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZVJvb3QiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibWVkaWFRdWVyeSIsImRlZHVwZSIsImFscmVhZHlJbXBvcnRlZE1vZHVsZXMiLCJzb3J0Iiwic2ltcGxpZnkiLCJlcSIsInNvcnRlZCIsInVuaXEiLCJmaXJzdCIsImluZGV4T2YiLCJtZW1vaXplIiwiUiIsIkMiLCJEIiwiRSIsIkYiLCJBIiwiQiIsInRvVXBwZXJDYXNlIiwiYWx0IiwicmVwbGFjZSIsImZpZnRocyIsInN1YnN0cmluZyIsImZyb21Qcm9wcyIsIklOVEVSVkFMIiwiUUFMVCIsIlAiLCJkZGRkIiwiZGRkIiwiZGQiLCJBQSIsIkFBQSIsIkFBQUEiLCJNIiwiZGlyIiwibnVtIiwicSIsInNpbXBsZSIsInN0ZXAiLCJSZWdFeHAiLCJwcm9wcyIsIkxFVFRFUiIsImNvb3JkIiwiQUxURVIiLCJidWlsZCIsImFzYyIsImhlaWdodCIsImRlc2MiLCJJbmZpbml0eSIsImNvbXAiLCJkaXN0YW5jZVRvIiwidHJhbnNwb3NlIiwiaGFybW9uaXplIiwibm90YXRpb24iLCJvcGVyYXRpb24iLCJzY2FsZXMiLCJFVkVOVF9QTEFZIiwiRVZFTlRfUEFVU0UiLCJFVkVOVF9SRVNFVCIsIkVWRU5UX1BMQVlCQUNLIiwiRVZFTlRfQVVESU9fVVAiLCJFVkVOVF9BVURJT19ET1dOIiwiRVZFTlRfQVVESU9fTE9BRElORyIsIkVWRU5UX0FVRElPX0xPQURFRCIsIkVWRU5UX01FU1NBR0UiLCJFVkVOVF9EQVRBX0xPQURJTkciLCJFVkVOVF9EQVRBX0xPQURFRCIsIkVWRU5UX1RPTklDX0NIQU5HRSIsIkVWRU5UX1NDQUxFX0NIQU5HRSIsIkVWRU5UX0VORFBPSU5UX0NIQU5HRSIsImZldGNoSW50ZXJ2YWwiLCJmZXRjaERhdGEiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImpzb24iLCJxdWVyeSIsInJlY2VudGNoYW5nZXMiLCJjaGFuZ2UiLCJ0aXRsZSIsIkRhdGUiLCJ0aW1lc3RhbXAiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJhYnMiLCJvbGRsZW4iLCJuZXdsZW4iLCJsb2ciLCJzdGFydCIsImdldFRpbWUiLCJlbmQiLCJzdG9yaWVzIiwic3RvcnkiLCJyZXMiLCJzY29yZSIsInRpbWUiLCJUT05JQ1MiLCJTQ0FMRVMiLCJBVURJT19PVVQiLCJ3YXZlZm9ybSIsImluaXRFbmdpbmUiLCJUb25lIiwiV2F2ZWZvcm0iLCJNYXN0ZXIiLCJ0b25pY05hbWUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2NhbGVOYW1lIiwiZGF0YVBvaW50cyIsInBsYXliYWNrSW5kZXgiLCJwbGF5YmFja1RpbWVvdXQiLCJyZXZlcmIiLCJGcmVldmVyYiIsImNyZWF0ZVJldmVyYiIsInZvbHVtZSIsIlZvbHVtZSIsImNyZWF0ZVZvbHVtZSIsImxpbWl0ZXIiLCJDb21wcmVzc29yIiwiY3JlYXRlTGltaXRlciIsImNvbXByZXNzb3IiLCJjcmVhdGVDb21wcmVzc29yIiwiY2hhbm5lbCIsIkNoYW5uZWwiLCJjcmVhdGVDaGFubmVsIiwiY2hhaW4iLCJzeW50aCIsIlBvbHlTeW50aCIsIlN5bnRoIiwib3NjaWxsYXRvciIsImVudmVsb3BlIiwiYXR0YWNrIiwiTUlOX05PVEVfRFVSQVRJT04iLCJkZWNheSIsIk1BWF9OT1RFX0RVUkFUSU9OIiwic3VzdGFpbiIsInJlbGVhc2UiLCJjcmVhdGVTeW50aCIsImNvbm5lY3QiLCJwbGF5IiwibWluVmFsdWUiLCJtaW4iLCJtYXhWYWx1ZSIsIm1heCIsInBvaW50IiwiZnJvbSIsImZsYXRNYXAiLCJ0b25lIiwiY3JlYXRlU2NhbGUiLCJwaXRjaCIsInJvdW5kIiwibWluVGltZXN0YW1wIiwibWF4VGltZXN0YW1wIiwidGljayIsImR1cmF0aW9uIiwidHJpZ2dlckF0dGFja1JlbGVhc2UiLCJkaXNwYXRjaEV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJuZXh0UG9pbnQiLCJvblJlc2V0Iiwib25QbGF5Iiwib25QYXVzZSIsInJlbGVhc2VBbGwiLCJvbkxvYWREYXRhIiwib25Ub25pY0NoYW5nZSIsIm9uU2NhbGVDaGFuZ2UiLCJpbml0QXVkaW8iLCJFdmVudCIsImV2ZW50cyIsImFkZEV2ZW50TGlzdGVuZXIiLCJjYXRjaCIsImNyZWF0ZUVuZHBvaW50U2VsZWN0b3IiLCJlbmRwb2ludFNlbGVjdG9yIiwiY2xhc3NMaXN0IiwiYWRkIiwiZW5kcG9pbnRzIiwiZW5kcG9pbnQiLCJvcHRpb24iLCJ0ZXh0Q29udGVudCIsInNlbGVjdGVkIiwic2V0SXRlbSIsImVuZHBvaW50U2VsZWN0b3JDb250YWluZXIiLCJlbmRwb2ludFNlbGVjdG9yTGFiZWwiLCJodG1sRm9yIiwiY3JlYXRlVG9uaWNTZWxlY3RvciIsInRvbmljU2VsZWN0b3IiLCJjcmVhdGVTY2FsZVNlbGVjdG9yIiwic2NhbGVTZWxlY3RvciIsImNyZWF0ZVBsYXlCdXR0b24iLCJwbGF5QnV0dG9uIiwiZGlzYWJsZWQiLCJjb250YWlucyIsImNyZWF0ZVJlc2V0QnV0dG9uIiwicmVzZXRCdXR0b24iLCJjcmVhdGVMb2FkZXIiLCJsb2FkZXIiLCJzZXRUZXh0Q29udGVudCIsImNsYXNzZXMiLCJzdGFydHNXaXRoIiwiY3JlYXRlTWVzc2FnZSIsImNyZWF0ZVBsYXlsaXN0IiwicGxheWxpc3QiLCJwcmVwZW5kIiwiY2hpbGRFbGVtZW50Q291bnQiLCJsYXN0Q2hpbGQiLCJjcmVhdGVWaXN1YWxpemVyIiwiY2FudmFzIiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJ2aXN1YWxpemUiLCJzYW1wbGVzIiwiZ2V0VmFsdWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjb250ZXh0IiwiZ2V0Q29udGV4dCIsImNsZWFyUmVjdCIsImZpbGxTdHlsZSIsImxpbmVDYXAiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJ4IiwieSIsImxpbmVUbyIsImZpbGwiLCJERUJVRyIsInZhbHVlcyIsImluZm8iLCJlbGVtZW50cyIsImVsZW1lbnQiLCJib2R5IiwibW91bnRFbGVtZW50cyIsImZldGNoVGltZW91dCIsImZldGNoRW5kcG9pbnREYXRhIiwiZW5kcG9pbnROYW1lIiwiaW5pdERhdGEiXSwibWFwcGluZ3MiOiJhQUNFLFNBQVNBLEVBQXFCQyxHQVE3QixJQVBBLElBTUlDLEVBQVVDLEVBTlZDLEVBQVdILEVBQUssR0FDaEJJLEVBQWNKLEVBQUssR0FLQUssRUFBSSxFQUFHQyxFQUFXLEdBQ3BDRCxFQUFJRixFQUFTSSxPQUFRRixJQUN6QkgsRUFBVUMsRUFBU0UsR0FDaEJHLE9BQU9DLFVBQVVDLGVBQWVDLEtBQUtDLEVBQWlCVixJQUFZVSxFQUFnQlYsSUFDcEZJLEVBQVNPLEtBQUtELEVBQWdCVixHQUFTLElBRXhDVSxFQUFnQlYsR0FBVyxFQUU1QixJQUFJRCxLQUFZRyxFQUNaSSxPQUFPQyxVQUFVQyxlQUFlQyxLQUFLUCxFQUFhSCxLQUNwRGEsRUFBUWIsR0FBWUcsRUFBWUgsSUFLbEMsSUFGR2MsR0FBcUJBLEVBQW9C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QVNnVyxjQUNQLElBQUlDLFlBQVksRUFBc0IsQ0FBRUMsT0FBUS9TLEVBQUkvQiIsImZpbGUiOiJtYWluLmJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuXG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdH07XG5cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdDA6IDBcbiBcdH07XG5cblxuXG4gXHQvLyBzY3JpcHQgcGF0aCBmdW5jdGlvblxuIFx0ZnVuY3Rpb24ganNvbnBTY3JpcHRTcmMoY2h1bmtJZCkge1xuIFx0XHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArICh7XCIxXCI6XCJ2ZW5kb3JzfnRvbmVcIn1bY2h1bmtJZF18fGNodW5rSWQpICsgXCIuYnVuZGxlLmpzXCJcbiBcdH1cblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG4gXHQvLyBUaGlzIGZpbGUgY29udGFpbnMgb25seSB0aGUgZW50cnkgY2h1bmsuXG4gXHQvLyBUaGUgY2h1bmsgbG9hZGluZyBmdW5jdGlvbiBmb3IgYWRkaXRpb25hbCBjaHVua3NcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZSA9IGZ1bmN0aW9uIHJlcXVpcmVFbnN1cmUoY2h1bmtJZCkge1xuIFx0XHR2YXIgcHJvbWlzZXMgPSBbXTtcblxuXG4gXHRcdC8vIEpTT05QIGNodW5rIGxvYWRpbmcgZm9yIGphdmFzY3JpcHRcblxuIFx0XHR2YXIgaW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdO1xuIFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEgIT09IDApIHsgLy8gMCBtZWFucyBcImFscmVhZHkgaW5zdGFsbGVkXCIuXG5cbiBcdFx0XHQvLyBhIFByb21pc2UgbWVhbnMgXCJjdXJyZW50bHkgbG9hZGluZ1wiLlxuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rRGF0YSkge1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0pO1xuIFx0XHRcdH0gZWxzZSB7XG4gXHRcdFx0XHQvLyBzZXR1cCBQcm9taXNlIGluIGNodW5rIGNhY2hlXG4gXHRcdFx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuIFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua0RhdGEgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSBbcmVzb2x2ZSwgcmVqZWN0XTtcbiBcdFx0XHRcdH0pO1xuIFx0XHRcdFx0cHJvbWlzZXMucHVzaChpbnN0YWxsZWRDaHVua0RhdGFbMl0gPSBwcm9taXNlKTtcblxuIFx0XHRcdFx0Ly8gc3RhcnQgY2h1bmsgbG9hZGluZ1xuIFx0XHRcdFx0dmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuIFx0XHRcdFx0dmFyIG9uU2NyaXB0Q29tcGxldGU7XG5cbiBcdFx0XHRcdHNjcmlwdC5jaGFyc2V0ID0gJ3V0Zi04JztcbiBcdFx0XHRcdHNjcmlwdC50aW1lb3V0ID0gMTIwO1xuIFx0XHRcdFx0aWYgKF9fd2VicGFja19yZXF1aXJlX18ubmMpIHtcbiBcdFx0XHRcdFx0c2NyaXB0LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIF9fd2VicGFja19yZXF1aXJlX18ubmMpO1xuIFx0XHRcdFx0fVxuIFx0XHRcdFx0c2NyaXB0LnNyYyA9IGpzb25wU2NyaXB0U3JjKGNodW5rSWQpO1xuXG4gXHRcdFx0XHQvLyBjcmVhdGUgZXJyb3IgYmVmb3JlIHN0YWNrIHVud291bmQgdG8gZ2V0IHVzZWZ1bCBzdGFja3RyYWNlIGxhdGVyXG4gXHRcdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IoKTtcbiBcdFx0XHRcdG9uU2NyaXB0Q29tcGxldGUgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiBcdFx0XHRcdFx0Ly8gYXZvaWQgbWVtIGxlYWtzIGluIElFLlxuIFx0XHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBudWxsO1xuIFx0XHRcdFx0XHRjbGVhclRpbWVvdXQodGltZW91dCk7XG4gXHRcdFx0XHRcdHZhciBjaHVuayA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0XHRcdFx0aWYoY2h1bmsgIT09IDApIHtcbiBcdFx0XHRcdFx0XHRpZihjaHVuaykge1xuIFx0XHRcdFx0XHRcdFx0dmFyIGVycm9yVHlwZSA9IGV2ZW50ICYmIChldmVudC50eXBlID09PSAnbG9hZCcgPyAnbWlzc2luZycgOiBldmVudC50eXBlKTtcbiBcdFx0XHRcdFx0XHRcdHZhciByZWFsU3JjID0gZXZlbnQgJiYgZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5zcmM7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci5tZXNzYWdlID0gJ0xvYWRpbmcgY2h1bmsgJyArIGNodW5rSWQgKyAnIGZhaWxlZC5cXG4oJyArIGVycm9yVHlwZSArICc6ICcgKyByZWFsU3JjICsgJyknO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IubmFtZSA9ICdDaHVua0xvYWRFcnJvcic7XG4gXHRcdFx0XHRcdFx0XHRlcnJvci50eXBlID0gZXJyb3JUeXBlO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IucmVxdWVzdCA9IHJlYWxTcmM7XG4gXHRcdFx0XHRcdFx0XHRjaHVua1sxXShlcnJvcik7XG4gXHRcdFx0XHRcdFx0fVxuIFx0XHRcdFx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXSA9IHVuZGVmaW5lZDtcbiBcdFx0XHRcdFx0fVxuIFx0XHRcdFx0fTtcbiBcdFx0XHRcdHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xuIFx0XHRcdFx0XHRvblNjcmlwdENvbXBsZXRlKHsgdHlwZTogJ3RpbWVvdXQnLCB0YXJnZXQ6IHNjcmlwdCB9KTtcbiBcdFx0XHRcdH0sIDEyMDAwMCk7XG4gXHRcdFx0XHRzY3JpcHQub25lcnJvciA9IHNjcmlwdC5vbmxvYWQgPSBvblNjcmlwdENvbXBsZXRlO1xuIFx0XHRcdFx0ZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzY3JpcHQpO1xuIFx0XHRcdH1cbiBcdFx0fVxuIFx0XHRyZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuIFx0fTtcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBvbiBlcnJvciBmdW5jdGlvbiBmb3IgYXN5bmMgbG9hZGluZ1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vZSA9IGZ1bmN0aW9uKGVycikgeyBjb25zb2xlLmVycm9yKGVycik7IHRocm93IGVycjsgfTtcblxuIFx0dmFyIGpzb25wQXJyYXkgPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gPSB3aW5kb3dbXCJ3ZWJwYWNrSnNvbnBcIl0gfHwgW107XG4gXHR2YXIgb2xkSnNvbnBGdW5jdGlvbiA9IGpzb25wQXJyYXkucHVzaC5iaW5kKGpzb25wQXJyYXkpO1xuIFx0anNvbnBBcnJheS5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2s7XG4gXHRqc29ucEFycmF5ID0ganNvbnBBcnJheS5zbGljZSgpO1xuIFx0Zm9yKHZhciBpID0gMDsgaSA8IGpzb25wQXJyYXkubGVuZ3RoOyBpKyspIHdlYnBhY2tKc29ucENhbGxiYWNrKGpzb25wQXJyYXlbaV0pO1xuIFx0dmFyIHBhcmVudEpzb25wRnVuY3Rpb24gPSBvbGRKc29ucEZ1bmN0aW9uO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMjYpO1xuIiwidmFyIG5vdGUgPSByZXF1aXJlKCcuLi9ub3RlL3BhcnNlJylcbnZhciBpbnRlcnZhbCA9IHJlcXVpcmUoJy4uL2ludGVydmFsL3BhcnNlJylcblxuLyoqXG4gKiBDb252ZXJ0IGEgbm90ZSBvciBpbnRlcnZhbCBzdHJpbmcgdG8gYSBbcGl0Y2ggaW4gY29vcmQgbm90YXRpb25dKClcbiAqXG4gKiBAbmFtZSBwaXRjaC5wYXJzZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ30gcGl0Y2ggLSB0aGUgbm90ZSBvciBpbnRlcnZhbCB0byBwYXJzZVxuICogQHJldHVybiB7QXJyYXl9IHRoZSBwaXRjaCBpbiBhcnJheSBub3RhdGlvblxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgcGFyc2UgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9waXRjaC9wYXJzZScpXG4gKiBwYXJzZSgnQzInKSAvLyA9PiBbMCwgMiwgbnVsbF1cbiAqIHBhcnNlKCc1UCcpIC8vID0+IFsxLCAwXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBub3RlKG4pIHx8IGludGVydmFsKG4pIH1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgcGFyc2UgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9waXRjaC9wYXJzZScpXG52YXIgc3RyID0gcmVxdWlyZSgnbXVzaWMtbm90YXRpb24vcGl0Y2gvc3RyJylcblxudmFyIFNFUCA9IC9cXHMqXFx8XFxzKnxcXHMqLFxccyp8XFxzKy9cbmZ1bmN0aW9uIHNwbGl0IChzb3VyY2UpIHtcbiAgaWYgKGlzQXJyYXkoc291cmNlKSkgcmV0dXJuIHNvdXJjZVxuICBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykgcmV0dXJuIHNvdXJjZS50cmltKCkuc3BsaXQoU0VQKVxuICBlbHNlIGlmIChzb3VyY2UgPT09IG51bGwgfHwgdHlwZW9mIHNvdXJjZSA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBbXVxuICBlbHNlIHJldHVybiBbIHNvdXJjZSBdXG59XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXlcbmZ1bmN0aW9uIHRvU3RyIChzKSB7IHJldHVybiBpc0FycmF5KHMpID8gc3RyKHMpIDogcyB9XG5mdW5jdGlvbiB0b0FyciAocykgeyByZXR1cm4gaXNBcnJheShzKSA/IHMgOiBwYXJzZShzKSB9XG5mdW5jdGlvbiBpZCAoZSkgeyByZXR1cm4gZSB9XG5cbi8qKlxuICogVHJhbnNmb3JtIGEgY29sbGVjdGlvbiBvZiBwaXRjaGVzIHdpdGggYSBmdW5jdGlvbi5cbiAqXG4gKiBJdCB3aWxsIGNvbnZlcnQgdGhlIGNvbGxlY3Rpb24gb2YgcGl0Y2hlcyB0byBhcnJheSBub3RhdGlvbiwgcGVyZm9ybSB0aGVcbiAqIHRyYW5zZm9ybWF0aW9uIGFuZCBjb252ZXJ0IHRoZSBwaXRjaGVzIGJhY2sgdG8gc3RyaW5ncy5cbiAqXG4gKiBUaGUgY29sbGVjdGlvbiBvZiBwaXRjaGVzIChub3RlcywgcGl0Y2ggY2xhc3NlcyBvciBpbnRlcnZhbHMpIHRoYXQgY2FuIGJlXG4gKiBleHByZXNzZWQgYXMgYW4gYXJyYXkgb3IgYXMgc3RyaW5nLlxuICpcbiAqIFRoZSBmdW5jdGlvbiB3aWxsIHJlY2VpdmUgdGhlIGdhbXV0IGluIFthcnJheSBub3RhdGlvbl0oKSBhbmQgbXVzdCByZXR1cm5cbiAqIHRoZSByZXN1bHQuIElmIHRoZSByZXN1bHQgaXMgYW4gYXJyYXkgb2YgcGl0Y2hlcyBpbiBhcnJheSBub3RhdGlvbiB0aGV5IHdpbGxcbiAqIGJlIGNvbnZlcnRlZCBiYWNrIHRvIG5vdGUgc3RyaW5ncy5cbiAqXG4gKiBJZiB0aGUgZ2l2ZW4gZnVuY3Rpb24gaXMgYGZhbHNlYCB0aGUgZ2FtdXQgaXMgcmV0dXJuZWQgKGFzIGFuIGFycmF5KSBidXRcbiAqIHdpdGggbm8gdHJhbnNmb3JtYXRpb24gYXBwbGllZC5cbiAqXG4gKiBJZiB0aGUgZ2l2ZW4gZnVuY3Rpb24gaXMgYG51bGxgIHRoZSBnYW11dCBpcyByZXR1cm5lZCAoYXMgYW4gYXJyYXkpIHdpdGhcbiAqIHRoZSBub24tcGl0Y2hlZCBlbGVtZW50cyBmaWx0ZXJlZC5cbiAqXG4gKiBUaGlzIGlzIHRoZSBiYXNlIGZ1bmN0aW9uIHRvIGRlcml2ZSBgbWFwYCwgYHJlZHVjZWAgYW5kIGBmaWx0ZXJgXG4gKlxuICogQG5hbWUgdHJhbnNmb3JtXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufEJvb2xlYW59IGZuIC0gdGhlIGZ1bmN0aW9uIHRvIHRyYW5zZm9ybSB0aGUgZ2FtdXQuIElmIGZhbHNlXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gc291cmNlIC0gYSBsaXN0IG9mIGVsZW1lbnRzXG4gKiBAcmV0dXJuIHtBcnJheX0gYSBsaXN0IG9mIHBpdGNoZXNcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGdhbXV0ID0gcmVxdWlyZSgnbXVzaWMtZ2FtdXQnKVxuICogLy8gZmlsdGVyIG5vdGVzIGVsZW1lbnRzXG4gKiBnYW11dChudWxsLCAnYzIgYmIgZnggYmxhaCcpIC8vID0+IFsnQzInLCAnQmInLCAnRiMjJywgbnVsbF1cbiAqL1xuZnVuY3Rpb24gdHJhbnNmb3JtIChmbiwgc291cmNlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkgcmV0dXJuIHRyYW5zZm9ybShmbikoc291cmNlKVxuXG4gIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgdmFyIGcgPSBzcGxpdChzb3VyY2UpXG4gICAgaWYgKGZuID09PSBmYWxzZSkgcmV0dXJuIGdcbiAgICBpZiAoZm4gPT09IG51bGwpIGZuID0gaWRcbiAgICBlbHNlIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHRocm93IEVycm9yKCdJbnZhbGlkIGZ1bmN0aW9uJylcbiAgICBpZiAoaXNBcnJheShnWzBdKSkgcmV0dXJuIGZuKGcpXG4gICAgdmFyIHYgPSBmbihnLm1hcChwYXJzZSkpXG4gICAgcmV0dXJuIGlzQXJyYXkodikgPyB2Lm1hcCh0b1N0cikgOiB2XG4gIH1cbn1cblxuLyoqXG4gKiBNYXAgYSBnYW11dCB3aXRoIGEgZnVuY3Rpb24uIFRoZSBmdW5jdGlvbiBvcGVyYXRlcyBwaXRjaGVzIGluIGFycmF5IG5vdGF0aW9uXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdXNlZCB0byBtYXAgZ2FtdXQgZWxlbWVudHNcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBwaXRjaGVzIC0gdGhlIHBpdGhlc1xuICogQHJldHVybiB7QXJyYXl9IHRoZSBtYXBwZWQgZ2FtdXRcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIGdhbXV0ID0gcmVxdWlyZSgnbXVzaWMtZ2FtdXQnKVxuICogdmFyIG9jdFVwID0gZ2FtdXQubWFwKGZ1bmN0aW9uIChuKSB7IHJldHVybiBbblswXSwgblsxXSArIDEsIG5bMl1dIH0pXG4gKiBvY3RVcCgnYzIgZDMgZTQnKSAvLyA9PiBbICdDMycsICdENCcsICdFNScgXVxuICovXG5mdW5jdGlvbiBtYXAgKGZuLCBzb3VyY2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSByZXR1cm4gbWFwKGZuKShzb3VyY2UpXG4gIHJldHVybiB0cmFuc2Zvcm0oZnVuY3Rpb24gKGcpIHsgcmV0dXJuIGcubWFwKGZuKSB9KVxufVxuXG4vKipcbiAqIEZpbHRlciBhIGdhbXV0IHdpdGggYSBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIG9wZXJhdGVzIHBpdGNoZXMgaW4gYXJyYXkgbm90YXRpb24uXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyaWZpZWQuXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZm4gLSB0aGUgZnVuY3Rpb24gdXNlZCB0byBmaWx0ZXIgdGhlIGdhbXV0LiBJdCBtdXN0IHJldHVyblxuICogdHJ1ZSBvciBmYWxzZSB0byBpbmNsdWRlIG9yIGV4Y2x1ZGUgdGhlIG5vdGUgZnJvbSB0aGUgZ2FtdXQuIEl0IHJlY2VpdmVzIG9uZVxuICogcGFyYW1ldGVyIG9mIGEgcGl0Y2ggaW4gYXJyYXkgbm90YXRpb24gKGNhbiBiZSBudWxsKVxuICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHBpdGNoZXMgLSB0aGUgcGl0Y2hlcyB0byBmaWx0ZXJcbiAqIEByZXR1cm4ge0FycmF5PFN0cmluZz59IHRoZSBmaWx0ZXJlZCBub3Rlc1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgb25seUMgPSBnYW11dC5maWx0ZXIoZnVuY3Rpb24ocCkgeyByZXR1cm4gcFswXSA9PT0gMCB9KVxuICogb25seUMoJ2MyIGQzIGM0IGY2IGM3JykgLy8gPT4gWydDMicsICdDNCcsICdDNyddXG4gKi9cbmZ1bmN0aW9uIGZpbHRlciAoZm4sIHNvdXJjZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHJldHVybiBmaWx0ZXIoZm4pKHNvdXJjZSlcbiAgcmV0dXJuIHRyYW5zZm9ybShmdW5jdGlvbiAoZykgeyByZXR1cm4gZy5maWx0ZXIoZm4pIH0pXG59XG5cbi8qKlxuICogQXBwbGllcyBhIGZ1bmN0aW9uIGFnYWluc3QgYW4gYWNjdW11bGF0b3IgYW5kIGVhY2ggdmFsdWUgb2YgYSBwaXRjaFxuICogY29sbGVjdGlvbi5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJpZmllZCBzbyBjYW4gYmUgcGFydGlhbGx5IGFwcGxpZWRcbiAqL1xuZnVuY3Rpb24gcmVkdWNlIChmbiwgYWNjLCBzb3VyY2UpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHJldHVybiBmdW5jdGlvbiAoYSwgcykgeyByZXR1cm4gcmVkdWNlKGZuLCBhLCBzKSB9XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMikgcmV0dXJuIHJlZHVjZShmbiwgYWNjKShzb3VyY2UpXG4gIHJldHVybiB0cmFuc2Zvcm0oZnVuY3Rpb24gKGcpIHsgcmV0dXJuIGcucmVkdWNlKGZuLCBhY2MpIH0pXG59XG5cbi8qKlxuICogUm90YXRlIHRoZSBnYW11dFxuICpcbiAqIEBuYW1lIGdhbXV0LnJvdGF0ZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGNvdW50IC0gdGhlIG51bWJlciBvZiByb3RhdGlvbnNcbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBnYW11dCAtIGEgbGlzdCBvZiBub3RlcyBvciBpbnRlcnZhbHNcbiAqIEByZXR1cm4ge0FycmF5fSB0aGUgZ2FtdXQgcm90YXRlZCBjb3VudCB0aW1lc1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgRyA9IHJlcXVpcmUoJ211c2ljLWdhbXV0JylcbiAqIEcucm90YXRlKDEsICdDIEQgRScpIC8vID0+IFsnRCcsICdFJywgJ0MnXVxuICovXG5mdW5jdGlvbiByb3RhdGUgKGNvdW50LCBzb3VyY2UpIHtcbiAgdmFyIGcgPSBzcGxpdChzb3VyY2UpXG4gIHZhciBsZW4gPSBnLmxlbmd0aFxuICB2YXIgbiA9ICgoY291bnQgJSBsZW4pICsgbGVuKSAlIGxlblxuICByZXR1cm4gZy5zbGljZShuLCBsZW4pLmNvbmNhdChnLnNsaWNlKDAsIG4pKVxufVxuXG4vKipcbiAqIFNlbGVjdCBzb21lIGVsZW1lbnRzIGZyb20gYSBnYW11dFxuICpcbiAqIEBuYW1lIGdhbXV0LnNlbGVjdFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gbnVtYmVycyAtIGEgX18xLWJhc2VkX18gaW5kZXggb2YgdGhlIGVsZW1lbnRzXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gZ2FtdXQgLSB0aGUgbm90ZXMgb3IgaW50ZXJ2YWxzXG4gKiBAcmV0dXJuIHtBcnJheX0gdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBnYW11dCA9IHJlcXVpcmUoJ211c2ljLWdhbXV0JylcbiAqIGdhbXV0LnNlbGVjdCgnMSAzIDUnLCAnQyBEIEUgRiBHIEEgQicpIC8vID0+IFsnQycsICdFJywgJ0cnXVxuICovXG5mdW5jdGlvbiBzZWxlY3QgKG51bXMsIHNyYykge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZ1bmN0aW9uIChnKSB7IHJldHVybiBzZWxlY3QobnVtcywgZykgfVxuICB2YXIgZyA9IHNwbGl0KHNyYylcbiAgcmV0dXJuIHNwbGl0KG51bXMpLm1hcChmdW5jdGlvbiAobikge1xuICAgIHJldHVybiBnW24gLSAxXVxuICB9KVxufVxuXG52YXIgRyA9IHsgdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gIC8qKlxuICAgKiBTcGxpdCBhIGNvbGxlY3Rpb24gb2Ygbm90ZXMgaW50byBhbiBhcnJheS5cbiAgICogTm8gdHJhbnNmb3JtYXRpb24gdG8gbm90ZXMgaXMgcGVyZm9ybWVkLlxuICAgKlxuICAgKiBBbiBhbGlhcyBmb3IgYGdhbXV0LnRyYW5zZm9ybShmYWxzZSlgXG4gICAqIEBuYW1lIHNwbGl0XG4gICAqIEBmdW5jdGlvblxuICAgKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gbm90ZXMgLSB0aGUgbm90ZXMgdG8gc3BsaXRcbiAgICogQHJldHVybiB7QXJyYXl9IHRoZSBub3RlcyBhcyBhbiBhcnJheVxuICAgKi9cbiAgc3BsaXQ6IHRyYW5zZm9ybShmYWxzZSksXG4gIG1hcDogbWFwLCByZWR1Y2U6IHJlZHVjZSwgZmlsdGVyOiBmaWx0ZXIsXG4gIHJvdGF0ZTogcm90YXRlLCBzZWxlY3Q6IHNlbGVjdCB9XG5cbmlmICh0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0JyAmJiBtb2R1bGUuZXhwb3J0cykgbW9kdWxlLmV4cG9ydHMgPSBHXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5nYW11dCA9IEdcbiIsInZhciBub3RlID0gcmVxdWlyZSgnLi4vbm90ZS9zdHInKVxudmFyIGludGVydmFsID0gcmVxdWlyZSgnLi4vaW50ZXJ2YWwvc3RyJylcblxuLyoqXG4gKiBDb252ZXJ0IGEgcGl0Y2ggaW4gY29vcmRpbmF0ZSBub3RhdGlvbiB0byBzdHJpbmcuIEl0IGRlYWxzIHdpdGggbm90ZXMsIHBpdGNoXG4gKiBjbGFzc2VzIGFuZCBpbnRlcnZhbHMuXG4gKlxuICogQG5hbWUgcGl0Y2guc3RyXG4gKiBAZnVuaXN0cm9uXG4gKiBAcGFyYW0ge0FycmF5fSBwaXRjaCAtIHRoZSBwaXRjaCBpbiBhcnJheSBub3RhdGlvblxuICogQHJldHVybiB7U3RyaW5nfSB0aGUgcGl0Y2ggc3RyaW5nXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBzdHIgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9waXRjaC5zdHInKVxuICogLy8gcGl0Y2ggY2xhc3NcbiAqIHN0cihbMF0pIC8vID0+ICdDJ1xuICogLy8gaW50ZXJ2YWxcbiAqIHN0cihbMCwgMF0pIC8vID0+ICcxUCdcbiAqIC8vIG5vdGVcbiAqIHN0cihbMCwgMiwgNF0pIC8vID0+ICdDMi80J1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChuKSB7IHJldHVybiBub3RlKG4pIHx8IGludGVydmFsKG4pIH1cbiIsIid1c2Ugc3RyaWN0J1xuXG52YXIgc2V0ID0gcmVxdWlyZSgncGl0Y2gtc2V0JylcbnZhciBoYXJtb25pemVyID0gcmVxdWlyZSgnbm90ZS1oYXJtb25pemVyJylcbnZhciBkYXRhID0gcmVxdWlyZSgnc2NhbGUtZGljdGlvbmFyeScpXG52YXIgcmVnZXggPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9ub3RlL3JlZ2V4JylcblxuLyoqXG4gKiBDcmVhdGUgYSBzY2FsZSBmcm9tIGEgbmFtZSBvciBpbnRlcnZhbHMgYW5kIHRvbmljXG4gKlxuICogQG5hbWVzcGFjZSBzY2FsZVxuICogQG5hbWUgc2NhbGVcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtBcnJheX0gc291cmNlIC0gdGhlIHNjYWxlIG5hbWUsIHNjYWxlIGludGVydmFscyBvciBzY2FsZSBub3Rlc1xuICogQHBhcmFtIHtTdHJpbmd9IHRvbmljIC0gdGhlIHRvbmljIG9mIHRoZSBzY2FsZVxuICogQHJldHVybiB7QXJyYXl9IHRoZSBsaXN0IG9mIG5vdGVzXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBzY2FsZSA9IHJlcXVpcmUoJ211c2ljLXNjYWxlJylcbiAqIC8vIGdldCBzY2FsZSBmcm9tIHR5cGUgYW5kIHRvbmljXG4gKiBzY2FsZSgnbWFqb3InLCAnQTQnKSAvLyA9PiBbJ0E0JywgJ0I0JywgJ0MjNCcsICdENCcsICdFNCcsICdGIzQnLCAnRyM0J11cbiAqIC8vIGdldCBzY2FsZSBmcm9tIGludGVydmFscyBhbmQgdG9uaWNcbiAqIHNjYWxlKCcxIDIgMyA0IDUgNiA3JywgJ0EnKSAvLyA9PiBbJ0EnLCAnQicsICdDIycsICdEJywgJ0UnLCAnRiMnLCAnRyMnXVxuICogLy8gcGFydGlhbGx5IGFwcGxpZWRcbiAqIHZhciBtYWpvciA9IHNjYWxlKCdtYWpvcicpXG4gKiBtYWpvcignQScpIC8vID0+IFsnQScsICdCJywgJ0MjJywgJ0QnLCAnRScsICdGIycsICdHIyddXG4gKiBtYWpvcignQTQnKSAvLyA9PiBbJ0E0JywgJ0I0JywgJ0MjNCcsICdENCcsICdFNCcsICdGIzQnLCAnRyM0J11cbiAqIC8vIHBhcnQgb2YgdG9uYWxcbiAqIHRvbmFsLnNjYWxlKCdtYWpvcicsICdBJylcbiAqL1xuZnVuY3Rpb24gc2NhbGUgKHNvdXJjZSwgdG9uaWMpIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5naHQgPT09IDEpIHJldHVybiBmdW5jdGlvbiAodCkgeyByZXR1cm4gc2NhbGUoc291cmNlLCB0KSB9XG4gIHZhciBpbnRlcnZhbHMgPSBkYXRhW3NvdXJjZV1cbiAgaWYgKHR5cGVvZiBpbnRlcnZhbHMgPT09ICdzdHJpbmcnKSBpbnRlcnZhbHMgPSBkYXRhW2ludGVydmFsc11cbiAgaWYgKCFpbnRlcnZhbHMpIGludGVydmFscyA9IHNldChzb3VyY2UpXG4gIHJldHVybiBoYXJtb25pemVyKGludGVydmFscywgdG9uaWMpXG59XG5cbi8qKlxuICogR2V0IHNjYWxlIG5vdGVzIGJ5IHNjYWxlIG5hbWVcbiAqXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJvZiBzY2FsZVxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWUgLSB0aGUgY29tcGxldGUgc2NhbGUgbmFtZSAod2l0aCB0b25pYylcbiAqIEByZXR1cm4ge0FycmF5fSBzY2FsZSBub3Rlc1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBnZXQgc2NhbGUgZnJvbSBuYW1lXG4gKiBzY2FsZS5nZXQoJ0EgbWFqb3InKSAvLyA9PiBbJ0EnLCAnQicsICdDIycsICdEJywgJ0UnLCAnRiMnLCAnRyMnXVxuICogLy8gcGFydCBvZiB0b25hbFxuICogdG9uYWwuc2NhbGUuZ2V0KCdDMiBiZWJvcCcpXG4gKi9cbnNjYWxlLmdldCA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciBwID0gcmVnZXguZXhlYyhuYW1lKVxuICByZXR1cm4gKHAgJiYgcFs1XSkgPyBzY2FsZShwWzVdLCBwWzFdICsgcFsyXSArIHBbM10pIDogW11cbn1cblxuLyoqXG4gKiBSZXR1cm4gdGhlIGF2YWlsYWJsZSBzY2FsZSBuYW1lc1xuICpcbiAqIEBuYW1lIG5hbWVzXG4gKiBAbWVtYmVyb2Ygc2NhbGVcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtib29sZWFufSBhbGlhc2VzIC0gdHJ1ZSB0byBpbmNsdWRlIGFsaWFzZXNcbiAqXG4gKiBAZXhhbXBsZVxuICogdG9uYWwuc2NhbGUubmFtZXMoKSAvLyA9PiBbJ21hajcnLCAuLi5dXG4gKi9cbnNjYWxlLm5hbWVzID0gZnVuY3Rpb24gKGFsaWFzZXMpIHtcbiAgaWYgKGFsaWFzZXMpIHJldHVybiBPYmplY3Qua2V5cyhkYXRhKVxuICByZXR1cm4gT2JqZWN0LmtleXMoZGF0YSkucmVkdWNlKGZ1bmN0aW9uIChuYW1lcywgbmFtZSkge1xuICAgIGlmICh0eXBlb2YgZGF0YVtuYW1lXSAhPT0gJ3N0cmluZycpIG5hbWVzLnB1c2gobmFtZSlcbiAgICByZXR1cm4gbmFtZXNcbiAgfSwgW10pXG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2NhbGVcbiIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIEEgc2ltcGxlIGFuZCBmYXN0IG1lbW9pemF0aW9uIGZ1bmN0aW9uXG4gKlxuICogSXQgaGVscHMgY3JlYXRpbmcgZnVuY3Rpb25zIHRoYXQgY29udmVydCBmcm9tIHN0cmluZyB0byBwaXRjaCBpbiBhcnJheSBmb3JtYXQuXG4gKiBCYXNpY2FsbHkgaXQgZG9lcyB0d28gdGhpbmdzOlxuICogLSBlbnN1cmUgdGhlIGZ1bmN0aW9uIG9ubHkgcmVjZWl2ZXMgc3RyaW5nc1xuICogLSBtZW1vaXplIHRoZSByZXN1bHRcbiAqXG4gKiBAbmFtZSBtZW1vaXplXG4gKiBAZnVuY3Rpb25cbiAqIEBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGZuKSB7XG4gIHZhciBjYWNoZSA9IHt9XG4gIHJldHVybiBmdW5jdGlvbiAoc3RyKSB7XG4gICAgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSByZXR1cm4gbnVsbFxuICAgIHJldHVybiAoc3RyIGluIGNhY2hlKSA/IGNhY2hlW3N0cl0gOiBjYWNoZVtzdHJdID0gZm4oc3RyKVxuICB9XG59XG4iLCIndXNlIHN0cmljdCdcblxuLyoqXG4gKiBBIHJlZ2V4IGZvciBtYXRjaGluZyBub3RlIHN0cmluZ3MgaW4gc2NpZW50aWZpYyBub3RhdGlvbi5cbiAqXG4gKiBUaGUgbm90ZSBzdHJpbmcgc2hvdWxkIGhhdmUgdGhlIGZvcm0gYGxldHRlclthY2NpZGVudGFsc11bb2N0YXZlXVsvZHVyYXRpb25dYFxuICogd2hlcmU6XG4gKlxuICogLSBsZXR0ZXI6IChSZXF1aXJlZCkgaXMgYSBsZXR0ZXIgZnJvbSBBIHRvIEcgZWl0aGVyIHVwcGVyIG9yIGxvd2VyIGNhc2VcbiAqIC0gYWNjaWRlbnRhbHM6IChPcHRpb25hbCkgY2FuIGJlIG9uZSBvciBtb3JlIGBiYCAoZmxhdHMpLCBgI2AgKHNoYXJwcykgb3IgYHhgIChkb3VibGUgc2hhcnBzKS5cbiAqIFRoZXkgY2FuIE5PVCBiZSBtaXhlZC5cbiAqIC0gb2N0YXZlOiAoT3B0aW9uYWwpIGEgcG9zaXRpdmUgb3IgbmVnYXRpdmUgaW50ZWdlclxuICogLSBkdXJhdGlvbjogKE9wdGlvbmFsKSBhbnl0aGluZyBmb2xsb3dzIGEgc2xhc2ggYC9gIGlzIGNvbnNpZGVyZWQgdG8gYmUgdGhlIGR1cmF0aW9uXG4gKiAtIGVsZW1lbnQ6IChPcHRpb25hbCkgYWRkaXRpb25hbGx5IGFueXRoaW5nIGFmdGVyIHRoZSBkdXJhdGlvbiBpcyBjb25zaWRlcmVkIHRvXG4gKiBiZSB0aGUgZWxlbWVudCBuYW1lIChmb3IgZXhhbXBsZTogJ0MyIGRvcmlhbicpXG4gKlxuICogQG5hbWUgbm90ZS5yZWdleFxuICogQGV4YW1wbGVcbiAqIHZhciBSID0gcmVxdWlyZSgnbXVzaWMtbm90YXRpb24vbm90ZS9yZWdleCcpXG4gKiBSLmV4ZWMoJ2MjNCcpIC8vID0+IFsnYyM0JywgJ2MnLCAnIycsICc0JywgJycsICcnXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IC9eKFthLWdBLUddKSgjezEsfXxiezEsfXx4ezEsfXwpKC0/XFxkKikoXFwvXFxkK3wpXFxzKiguKilcXHMqJC9cbiIsIid1c2Ugc3RyaWN0J1xuXG4vLyBNYXAgZnJvbSBudW1iZXIgb2YgZmlmdGhzIHRvIGludGVydmFsIG51bWJlciAoMC1pbmRleCkgYW5kIG9jdGF2ZVxuLy8gLTEgPSBmb3VydGgsIDAgPSB1bmlzb24sIDEgPSBmaWZ0aCwgMiA9IHNlY29uZCwgMyA9IHNpeHRoLi4uXG52YXIgQkFTRVMgPSBbWzMsIDFdLCBbMCwgMF0sIFs0LCAwXSwgWzEsIC0xXSwgWzUsIC0xXSwgWzIsIC0yXSwgWzYsIC0yXSwgWzMsIC0zXV1cblxuLyoqXG4gKiBHZXQgcHJvcGVydGllcyBmcm9tIGEgcGl0Y2ggaW4gYXJyYXkgZm9ybWF0XG4gKlxuICogVGhlIHByb3BlcnRpZXMgaXMgYW4gYXJyYXkgd2l0aCB0aGUgZm9ybSBbbnVtYmVyLCBhbHRlcmF0aW9uLCBvY3RhdmUsIGR1cmF0aW9uXVxuICpcbiAqIEBuYW1lIGFycmF5LnRvUHJvcHNcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtBcnJheX0gYXJyYXkgLSB0aGUgcGl0Y2ggaW4gY29vcmQgZm9ybWF0XG4gKiBAcmV0dXJuIHtBcnJheX0gdGhlIHBpdGNoIGluIHByb3BlcnR5IGZvcm1hdFxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgdG9Qcm9wcyA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL2FycmF5L3RvLXByb3BzJylcbiAqIHRvUHJvcHMoWzIsIDEsIDRdKSAvLyA9PiBbMSwgMiwgNF1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXJyKSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShhcnIpKSByZXR1cm4gbnVsbFxuICB2YXIgaW5kZXggPSAoYXJyWzBdICsgMSkgJSA3XG4gIGlmIChpbmRleCA8IDApIGluZGV4ID0gNyArIGluZGV4XG4gIHZhciBiYXNlID0gQkFTRVNbaW5kZXhdXG4gIHZhciBhbHRlciA9IE1hdGguZmxvb3IoKGFyclswXSArIDEpIC8gNylcbiAgdmFyIG9jdCA9IGFyci5sZW5ndGggPT09IDEgPyBudWxsIDogYXJyWzFdIC0gYmFzZVsxXSArIGFsdGVyICogNFxuICB2YXIgZHVyID0gYXJyWzJdIHx8IG51bGxcbiAgcmV0dXJuIFtiYXNlWzBdLCBhbHRlciwgb2N0LCBkdXJdXG59XG4iLCIndXNlIHN0cmljdCdcblxuZnVuY3Rpb24gY3VycnkgKGZuLCBhcml0eSkge1xuICBpZiAoYXJpdHkgPT09IDEpIHJldHVybiBmblxuICByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZ1bmN0aW9uIChjKSB7IHJldHVybiBmbihhLCBjKSB9XG4gICAgcmV0dXJuIGZuKGEsIGIpXG4gIH1cbn1cblxuLyoqXG4gKiBEZWNvcmF0ZSBhIGZ1bmN0aW9uIHRvIHdvcmsgd2l0aCBpbnRlcnZhbHMsIG5vdGVzIG9yIHBpdGNoZXMgaW5cbiAqIFthcnJheSBub3RhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2RhbmlnYi90b25hbC90cmVlL25leHQvcGFja2FnZXMvbXVzaWMtbm90YXRpb24pXG4gKiB3aXRoIGluZGVwZW5kZW5jZSBvZiBzdHJpbmcgcmVwcmVzZW50YXRpb25zLlxuICpcbiAqIFRoaXMgaXMgdGhlIGJhc2Ugb2YgdGhlIHBsdWdnYWJsZSBub3RhdGlvbiBzeXN0ZW0gb2ZcbiAqIFt0b25hbF0oaHR0cHM6Ly9naXRodWIuY29tL2RhbmlnYi90b25hbClcbiAqXG4gKiBAbmFtZSBvcGVyYXRpb25cbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbn0gcGFyc2UgLSB0aGUgcGFyc2VyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBzdHIgLSB0aGUgc3RyaW5nIGJ1aWxkZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIC0gdGhlIG9wZXJhdGlvbiB0byBkZWNvcmF0ZVxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgcGFyc2UgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9pbnRlcnZhbC9wYXJzZScpXG4gKiB2YXIgc3RyID0gcmVxdWlyZSgnbXVzaWMtbm90YXRpb24vaW50ZXJ2YWwvc3RyJylcbiAqIHZhciBvcGVyYXRpb24gPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9vcGVyYXRpb24nKShwYXJzZSwgc3RyKVxuICogdmFyIGFkZCA9IG9wZXJhdGlvbihmdW5jdGlvbihhLCBiKSB7IHJldHVybiBbYVswXSArIGJbMF0sIGFbMV0gKyBiWzFdXSB9KVxuICogYWRkKCczbScsICczTScpIC8vID0+ICc1UCdcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBvcCAocGFyc2UsIHN0ciwgZm4pIHtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHJldHVybiBmdW5jdGlvbiAoZikgeyByZXR1cm4gb3AocGFyc2UsIHN0ciwgZikgfVxuICByZXR1cm4gY3VycnkoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICB2YXIgYWMgPSBwYXJzZShhKVxuICAgIHZhciBiYyA9IHBhcnNlKGIpXG4gICAgaWYgKCFhYyAmJiAhYmMpIHJldHVybiBmbihhLCBiKVxuICAgIHZhciB2ID0gZm4oYWMgfHwgYSwgYmMgfHwgYilcbiAgICByZXR1cm4gc3RyKHYpIHx8IHZcbiAgfSwgZm4ubGVuZ3RoKVxufVxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2luZGV4LmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiBidG9hKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZS5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChzdHlsZS5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG52YXIgc2luZ2xldG9uID0gbnVsbDtcbnZhciBzaW5nbGV0b25Db3VudGVyID0gMDtcblxuZnVuY3Rpb24gYWRkU3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBzdHlsZTtcbiAgdmFyIHVwZGF0ZTtcbiAgdmFyIHJlbW92ZTtcblxuICBpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcbiAgICB2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcbiAgICBzdHlsZSA9IHNpbmdsZXRvbiB8fCAoc2luZ2xldG9uID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIGZhbHNlKTtcbiAgICByZW1vdmUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGUsIHN0eWxlSW5kZXgsIHRydWUpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlID0gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9UYWcuYmluZChudWxsLCBzdHlsZSwgb3B0aW9ucyk7XG5cbiAgICByZW1vdmUgPSBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpO1xuICAgIH07XG4gIH1cblxuICB1cGRhdGUob2JqKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVtb3ZlKCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OyAvLyBGb3JjZSBzaW5nbGUtdGFnIHNvbHV0aW9uIG9uIElFNi05LCB3aGljaCBoYXMgYSBoYXJkIGxpbWl0IG9uIHRoZSAjIG9mIDxzdHlsZT5cbiAgLy8gdGFncyBpdCB3aWxsIGFsbG93IG9uIGEgcGFnZVxuXG4gIGlmICghb3B0aW9ucy5zaW5nbGV0b24gJiYgdHlwZW9mIG9wdGlvbnMuc2luZ2xldG9uICE9PSAnYm9vbGVhbicpIHtcbiAgICBvcHRpb25zLnNpbmdsZXRvbiA9IGlzT2xkSUUoKTtcbiAgfVxuXG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobmV3TGlzdCkgIT09ICdbb2JqZWN0IEFycmF5XScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5Eb21bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRG9tW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRG9tLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImh0bWwge1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IG5vbmU7XFxuICBwYWRkaW5nOiBub25lO1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgZm9udC1mYW1pbHk6IHNhbnMtc2VyaWY7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmYwMDg4O1xcbiAgY29sb3I6ICNmZmY7XFxufVxcblxcbjpmb2N1cyB7IG91dGxpbmU6bm9uZTsgfVxcbjo6LW1vei1mb2N1cy1pbm5lciB7IGJvcmRlcjowOyB9XFxuXFxubGFiZWwge1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxufVxcblxcbi5sb2FkZXIsIC5tZXNzYWdlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBmb250LXNpemU6IDJyZW07XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4ubWVzc2FnZSB7XFxuICB0b3A6IDUwdmg7XFxuICBsZWZ0OiA1MHZ3O1xcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XFxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDAwO1xcbiAgcGFkZGluZzogMnJlbSAwO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgd2lkdGg6IDEwMHZ3O1xcbn1cXG5cXG4ubG9hZGVyIHtcXG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjAwODg7XFxuICB3aWR0aDogMTAwdnc7XFxuICBsaW5lLWhlaWdodDogMTAwdmg7XFxufVxcblxcbi5sb2FkZXIubG9hZGluZy1kYXRhLCAubG9hZGVyLmxvYWRpbmctYXVkaW8ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5tZXNzYWdlLnZpc2libGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi52aXN1YWxpemVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IDA7XFxuICB6LWluZGV4OiAtMTtcXG4gIG1heC13aWR0aDogMTAwdnc7XFxuICBtYXgtaGVpZ2h0OiAxMDB2aDtcXG59XFxuXFxuLmVuZHBvaW50LXNlbGVjdG9yLCAudG9uaWMtc2VsZWN0b3IsIC5zY2FsZS1zZWxlY3RvciwgLmJ0bi1hdWRpbywgLmJ0bi1yZXNldCB7XFxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XFxuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XFxuICBhcHBlYXJhbmNlOiBub25lO1xcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XFxuICBjb2xvcjogI2ZmZjtcXG4gIGZvbnQtc2l6ZTogMnJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAycmVtO1xcbiAgYm9yZGVyOiBub25lO1xcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxufVxcblxcbi50b25pYy1zZWxlY3RvciwgLnNjYWxlLXNlbGVjdG9yLCAuYnRuLWF1ZGlvLCAuYnRuLXJlc2V0IHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGJvdHRvbTogMnJlbTtcXG59XFxuXFxuLnRvbmljLXNlbGVjdG9yLCAuc2NhbGUtc2VsZWN0b3Ige1xcbiAgZm9udC1zaXplOiAxLjVyZW07XFxuICB0ZXh0LWFsaWduOiByaWdodDtcXG4gIHRleHQtYWxpZ24tbGFzdDogcmlnaHQ7XFxufVxcblxcbi50b25pYy1zZWxlY3RvciBvcHRpb24sIC5zY2FsZS1zZWxlY3RvciBvcHRpb24ge1xcbiAgY29sb3I6ICMwMDA7XFxuICBmb250LXNpemU6IDFyZW07XFxufVxcblxcbi50b25pYy1zZWxlY3RvciB7XFxuICB3aWR0aDogMnJlbTtcXG4gIHJpZ2h0OiAycmVtO1xcbn1cXG5cXG4uc2NhbGUtc2VsZWN0b3Ige1xcbiAgcmlnaHQ6IDRyZW07XFxufVxcblxcbmJ1dHRvbiB7XFxuICBoZWlnaHQ6IDJyZW07XFxufVxcblxcbmJ1dHRvbjpkaXNhYmxlZCB7XFxuICBvcGFjaXR5OiAwLjY7XFxufVxcblxcbi5idG4tYXVkaW8ge1xcbiAgbGVmdDogMnJlbTtcXG59XFxuXFxuLmJ0bi1hdWRpbzpiZWZvcmUsIC5idG4tcmVzZXQ6YmVmb3JlIHtcXG4gIGZvbnQtc2l6ZTogMC41ZW07XFxuICBsaW5lLWhlaWdodDogMnJlbTtcXG4gIHZlcnRpY2FsLWFsaWduOiB0ZXh0LXRvcDtcXG59XFxuXFxuLmJ0bi1hdWRpbzpiZWZvcmUsIC5idG4tcmVzZXQ6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6ICdcXFxcMjU5MFxcXFxBMFxcXFwyNThDJztcXG59XFxuXFxuLmJ0bi1hdWRpby5wYXVzZWQ6YmVmb3JlIHtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgY29udGVudDogJ1xcXFwyNUJBJztcXG59XFxuXFxuLmJ0bi1yZXNldCB7XFxuICBsZWZ0OiAxMXJlbTtcXG4gIGZvbnQtc2l6ZTogMXJlbTtcXG4gIGxpbmUtaGVpZ2h0OiAxcmVtO1xcbiAgaGVpZ2h0OiAxLjVyZW07XFxufVxcblxcbi5idG4tcmVzZXQ6YmVmb3JlIHtcXG4gIGxpbmUtaGVpZ2h0OiAxcmVtO1xcbiAgZm9udC1zaXplOiAxLjI1ZW07XFxuICBjb250ZW50OiAnXFxcXDIxQkInO1xcbn1cXG5cXG4uZW5kcG9pbnQtc2VsZWN0b3Ige1xcbiAgZm9udC1zaXplOiAxcmVtO1xcbn1cXG5cXG4ucGxheWxpc3Qge1xcbiAgZm9udC1zaXplOiAwLjhyZW07XFxuICBjb2xvcjogI2ZmZmZmZjtcXG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xcbn1cXG5cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHVzZVNvdXJjZU1hcCkge1xuICB2YXIgbGlzdCA9IFtdOyAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG5cbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCk7XG5cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIHJldHVybiBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoY29udGVudCwgXCJ9XCIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKCcnKTtcbiAgfTsgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcblxuXG4gIGxpc3QuaSA9IGZ1bmN0aW9uIChtb2R1bGVzLCBtZWRpYVF1ZXJ5LCBkZWR1cGUpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsICcnXV07XG4gICAgfVxuXG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcblxuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWRlc3RydWN0dXJpbmdcbiAgICAgICAgdmFyIGlkID0gdGhpc1tpXVswXTtcblxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBtb2R1bGVzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfaV0pO1xuXG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRpbnVlXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVkaWFRdWVyeSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWFRdWVyeTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzJdID0gXCJcIi5jb25jYXQobWVkaWFRdWVyeSwgXCIgYW5kIFwiKS5jb25jYXQoaXRlbVsyXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gbGlzdDtcbn07XG5cbmZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSwgdXNlU291cmNlTWFwKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXSB8fCAnJzsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG5cbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuXG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG5cbiAgaWYgKHVzZVNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gdG9Db21tZW50KGNzc01hcHBpbmcpO1xuICAgIHZhciBzb3VyY2VVUkxzID0gY3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbiAoc291cmNlKSB7XG4gICAgICByZXR1cm4gXCIvKiMgc291cmNlVVJMPVwiLmNvbmNhdChjc3NNYXBwaW5nLnNvdXJjZVJvb3QgfHwgJycpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oJ1xcbicpO1xuICB9XG5cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKCdcXG4nKTtcbn0gLy8gQWRhcHRlZCBmcm9tIGNvbnZlcnQtc291cmNlLW1hcCAoTUlUKVxuXG5cbmZ1bmN0aW9uIHRvQ29tbWVudChzb3VyY2VNYXApIHtcbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpO1xuICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gIHJldHVybiBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG59IiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBnYW11dCA9IHJlcXVpcmUoJ211c2ljLWdhbXV0JylcbnZhciBzb3J0ID0gcmVxdWlyZSgncGl0Y2gtc29ydCcpXG5cbi8qKlxuICogQ3JlYXRlIGEgcGl0Y2ggc2V0IGZyb20gYSBsaXN0IG9mIG5vdGVzIG9yIGludGVydmFscy5cbiAqIEFuIHBpdGNoIHNldCBpcyBhIGNvbGxlY3Rpb24gb2YgdW5pcSBub3RlcyBvciBpbnRlcnZhbHMgc29ydGVkIGJ5IGZyZXF1ZW5jeVxuICpcbiAqIElmIGl0J3MgcGl0Y2ggc2V0IG9mIHBpdGNoIGNsYXNzZXMsIHRoZSBmaXJzdCBub3RlIHdpbGwgYmUgdGhlIGZpcnN0IHBpdGNoXG4gKiBjbGFzcyBvZiB0aGUgc2V0LlxuICpcbiAqIElmIGl0J3MgYSBwaXRjaCBzZXQgb2YgaW50ZXJ2YWxzLCB0aGUgaW50ZXJ2YWxzIGFyZSBzaW1wbGlmaWVkIGFuZCByZXR1cm5lZFxuICogaW4gYXNjZW5kaW5nIHNpemUgb3JkZXJcbiAqXG4gKiBAbmFtZSBwaXRjaFNldFxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgLSB0aGUgbGlzdCBvZiBpbnRlcnZhbHMgb3Igbm90ZXNcbiAqIEByZXR1cm4ge0FycmF5fSB0aGUgbGlzdCBvZiBub3Rlc1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgcGl0Y2hTZXQgPSByZXF1aXJlKCdwaXRjaC1zZXQnKVxuXG4gKiAvLyBwaXRjaCBzZXRzIGZyb20gbm90ZXMgKHVzZXMgZmlyc3Qgbm90ZSBhcyB0b25pYylcbiAqIHBpdGNoU2V0KCdkMiBjNCBlMyBmIGc2IGEgQiBjIGQ1IGUnKSAvLyA9PiBbJ0QnLCAnRScsICdGJywgJ0cnLCAnQScsICdCJywgJ0MnXVxuICogLy8gc2ltcGxpZmllZCBpbnRlcnZhbHMgb3JkZXJlZCBieSBzaXplXG4gKiBwaXRjaFNldCgnMSAyIDMgOCA5IDEwIDExJykgLy8gPT4gWyAnMVAnLCAnMk0nLCAnM00nLCAnNFAnIF1cbiAqIHBpdGNoU2V0KCcxMSAxMCA5JykgLy89PiBbICcyTScsICczTScsICc0UCcgXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHNldCAoc291cmNlKSB7XG4gIHJldHVybiBnYW11dC50cmFuc2Zvcm0oZnVuY3Rpb24gKHNyYykge1xuICAgIGlmIChzcmMubGVuZ3RoID09PSAwKSByZXR1cm4gW11cbiAgICB2YXIgc2V0ID0gdW5pcShzcmMubWFwKHNpbXBsaWZ5KSlcbiAgICBpZiAoYXJlTm90ZXMoc2V0KSkgc2V0ID0gcm90YXRlKHNyY1swXSwgc2V0KVxuICAgIHJldHVybiBzZXRcbiAgfSkoc291cmNlKVxufVxuXG5mdW5jdGlvbiBhcmVOb3RlcyAoZykgeyByZXR1cm4gZ1swXS5sZW5ndGggIT09IDIgfVxuXG5mdW5jdGlvbiBzaW1wbGlmeSAocCkge1xuICByZXR1cm4gcC5sZW5ndGggPT09IDIgPyBbcFswXSwgLU1hdGguZmxvb3IocFswXSAqIDcgLyAxMildIDogW3BbMF1dXG59XG5cbmZ1bmN0aW9uIGVxIChhLCBiKSB7IHJldHVybiBhWzBdID09PSBiWzBdIH1cblxuZnVuY3Rpb24gaW5kZXhPZiAocCwgZ2FtdXQpIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBnYW11dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICBpZiAoZXEocCwgZ2FtdXRbaV0pKSByZXR1cm4gaVxuICB9XG59XG5cbmZ1bmN0aW9uIHJvdGF0ZSAoZmlyc3QsIHVuaXEpIHtcbiAgcmV0dXJuIGdhbXV0LnJvdGF0ZShpbmRleE9mKGZpcnN0LCB1bmlxKSwgdW5pcSlcbn1cblxuZnVuY3Rpb24gdW5pcSAoc3JjKSB7XG4gIHZhciBzb3J0ZWQgPSBzb3J0KHRydWUsIHNyYylcbiAgcmV0dXJuIHNvcnRlZC5yZWR1Y2UoZnVuY3Rpb24gKHVuaXEsIHZhbHVlLCBpbmRleCkge1xuICAgIGlmIChpbmRleCA9PT0gMCB8fCAhZXEoc29ydGVkW2luZGV4IC0gMV0sIHZhbHVlKSkgdW5pcS5wdXNoKHZhbHVlKVxuICAgIHJldHVybiB1bmlxXG4gIH0sIFtdKVxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbnZhciBtZW1vaXplID0gcmVxdWlyZSgnLi4vbWVtb2l6ZScpXG52YXIgUiA9IHJlcXVpcmUoJy4vcmVnZXgnKVxudmFyIEJBU0VTID0geyBDOiBbMCwgMF0sIEQ6IFsyLCAtMV0sIEU6IFs0LCAtMl0sIEY6IFstMSwgMV0sIEc6IFsxLCAwXSwgQTogWzMsIC0xXSwgQjogWzUsIC0yXSB9XG5cbi8qKlxuICogR2V0IGEgcGl0Y2ggaW4gW2FycmF5IG5vdGF0aW9uXSgpXG4gKiBmcm9tIGEgc3RyaW5nIGluIFtzY2llbnRpZmljIHBpdGNoIG5vdGF0aW9uXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2llbnRpZmljX3BpdGNoX25vdGF0aW9uKVxuICpcbiAqIFRoZSBzdHJpbmcgdG8gcGFyc2UgbXVzdCBiZSBpbiB0aGUgZm9ybSBvZjogYGxldHRlclthY2NpZGVudGFsc11bb2N0YXZlXWBcbiAqIFRoZSBhY2NpZGVudGFscyBjYW4gYmUgdXAgdG8gZm91ciAjIChzaGFycCkgb3IgYiAoZmxhdCkgb3IgdHdvIHggKGRvdWJsZSBzaGFycHMpXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBjYWNoZWQgZm9yIGJldHRlciBwZXJmb3JtYW5jZS5cbiAqXG4gKiBAbmFtZSBub3RlLnBhcnNlXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgLSB0aGUgc3RyaW5nIHRvIHBhcnNlXG4gKiBAcmV0dXJuIHtBcnJheX0gdGhlIG5vdGUgaW4gYXJyYXkgbm90YXRpb24gb3IgbnVsbCBpZiBub3QgdmFsaWQgbm90ZVxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgcGFyc2UgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9ub3RlL3BhcnNlJylcbiAqIHBhcnNlKCdDJykgLy8gPT4gWyAwIF1cbiAqIHBhcnNlKCdjIycpIC8vID0+IFsgOCBdXG4gKiBwYXJzZSgnYyMjJykgLy8gPT4gWyAxNiBdXG4gKiBwYXJzZSgnQ3gnKSAvLyA9PiBbIDE2IF0gKGRvdWJsZSBzaGFycClcbiAqIHBhcnNlKCdDYicpIC8vID0+IFsgLTYgXVxuICogcGFyc2UoJ2RiJykgLy8gPT4gWyAtNCBdXG4gKiBwYXJzZSgnRzQnKSAvLyA9PiBbIDIsIDMsIG51bGwgXVxuICogcGFyc2UoJ2MjMycpIC8vID0+IFsgOCwgLTEsIG51bGwgXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemUoZnVuY3Rpb24gKHN0cikge1xuICB2YXIgbSA9IFIuZXhlYyhzdHIpXG4gIGlmICghbSB8fCBtWzVdKSByZXR1cm4gbnVsbFxuXG4gIHZhciBiYXNlID0gQkFTRVNbbVsxXS50b1VwcGVyQ2FzZSgpXVxuICB2YXIgYWx0ID0gbVsyXS5yZXBsYWNlKC94L2csICcjIycpLmxlbmd0aFxuICBpZiAobVsyXVswXSA9PT0gJ2InKSBhbHQgKj0gLTFcbiAgdmFyIGZpZnRocyA9IGJhc2VbMF0gKyA3ICogYWx0XG4gIGlmICghbVszXSkgcmV0dXJuIFtmaWZ0aHNdXG4gIHZhciBvY3QgPSArbVszXSArIGJhc2VbMV0gLSA0ICogYWx0XG4gIHZhciBkdXIgPSBtWzRdID8gKyhtWzRdLnN1YnN0cmluZygxKSkgOiBudWxsXG4gIHJldHVybiBbZmlmdGhzLCBvY3QsIGR1cl1cbn0pXG4iLCIndXNlIHN0cmljdCdcblxudmFyIG1lbW9pemUgPSByZXF1aXJlKCcuLi9tZW1vaXplJylcbnZhciBmcm9tUHJvcHMgPSByZXF1aXJlKCcuLi9hcnJheS9mcm9tLXByb3BzJylcbnZhciBJTlRFUlZBTCA9IHJlcXVpcmUoJy4vcmVnZXgnKVxudmFyIFRZUEVTID0gJ1BNTVBQTU0nXG52YXIgUUFMVCA9IHtcbiAgUDogeyBkZGRkOiAtNCwgZGRkOiAtMywgZGQ6IC0yLCBkOiAtMSwgUDogMCwgQTogMSwgQUE6IDIsIEFBQTogMywgQUFBQTogNCB9LFxuICBNOiB7IGRkZDogLTQsIGRkOiAtMywgZDogLTIsIG06IC0xLCBNOiAwLCBBOiAxLCBBQTogMiwgQUFBOiAzLCBBQUFBOiA0IH1cbn1cblxuLyoqXG4gKiBQYXJzZSBhIFtpbnRlcnZhbCBzaG9ydGhhbmQgbm90YXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ludGVydmFsXyhtdXNpYykjU2hvcnRoYW5kX25vdGF0aW9uKVxuICogdG8gW2ludGVydmFsIGNvb3JkIG5vdGF0aW9uXShodHRwczovL2dpdGh1Yi5jb20vZGFuaWdiL211c2ljLmFycmF5Lm5vdGF0aW9uKVxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgY2FjaGVkIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gKlxuICogQG5hbWUgaW50ZXJ2YWwucGFyc2VcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtTdHJpbmd9IGludGVydmFsIC0gdGhlIGludGVydmFsIHN0cmluZ1xuICogQHJldHVybiB7QXJyYXl9IHRoZSBpbnRlcnZhbCBpbiBhcnJheSBub3RhdGlvbiBvciBudWxsIGlmIG5vdCBhIHZhbGlkIGludGVydmFsXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBwYXJzZSA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL2ludGVydmFsL3BhcnNlJylcbiAqIHBhcnNlKCczbScpIC8vID0+IFsyLCAtMSwgMF1cbiAqIHBhcnNlKCc5YicpIC8vID0+IFsxLCAtMSwgMV1cbiAqIHBhcnNlKCctMk0nKSAvLyA9PiBbNiwgLTEsIC0xXVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IG1lbW9pemUoZnVuY3Rpb24gKHN0cikge1xuICB2YXIgbSA9IElOVEVSVkFMLmV4ZWMoc3RyKVxuICBpZiAoIW0pIHJldHVybiBudWxsXG4gIHZhciBkaXIgPSAobVsyXSB8fCBtWzddKSA9PT0gJy0nID8gLTEgOiAxXG4gIHZhciBudW0gPSArKG1bM10gfHwgbVs4XSkgLSAxXG4gIHZhciBxID0gbVs0XSB8fCBtWzZdIHx8ICcnXG5cbiAgdmFyIHNpbXBsZSA9IG51bSAlIDdcblxuICB2YXIgYWx0XG4gIGlmIChxID09PSAnJykgYWx0ID0gMFxuICBlbHNlIGlmIChxWzBdID09PSAnIycpIGFsdCA9IHEubGVuZ3RoXG4gIGVsc2UgaWYgKHFbMF0gPT09ICdiJykgYWx0ID0gLXEubGVuZ3RoXG4gIGVsc2Uge1xuICAgIGFsdCA9IFFBTFRbVFlQRVNbc2ltcGxlXV1bcV1cbiAgICBpZiAodHlwZW9mIGFsdCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBudWxsXG4gIH1cbiAgdmFyIG9jdCA9IE1hdGguZmxvb3IobnVtIC8gNylcbiAgdmFyIGFyciA9IGZyb21Qcm9wcyhzaW1wbGUsIGFsdCwgb2N0KVxuICByZXR1cm4gZGlyID09PSAxID8gYXJyIDogWy1hcnJbMF0sIC1hcnJbMV1dXG59KVxuIiwiJ3VzZSBzdHJpY3QnXG5cbi8vIG1hcCBmcm9tIHBpdGNoIG51bWJlciB0byBudW1iZXIgb2YgZmlmdGhzIGFuZCBvY3RhdmVzXG52YXIgQkFTRVMgPSBbIFswLCAwXSwgWzIsIC0xXSwgWzQsIC0yXSwgWy0xLCAxXSwgWzEsIDBdLCBbMywgLTFdLCBbNSwgLTJdIF1cblxuLyoqXG4gKiBHZXQgYSBwaXRjaCBpbiBbYXJyYXkgbm90YXRpb25dKCkgZnJvbSBwaXRjaCBwcm9wZXJ0aWVzXG4gKlxuICogQG5hbWUgYXJyYXkuZnJvbVByb3BzXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7SW50ZWdlcn0gc3RlcCAtIHRoZSBzdGVwIGluZGV4XG4gKiBAcGFyYW0ge0ludGVnZXJ9IGFsdGVyYXRpb25zIC0gKE9wdGlvbmFsKSB0aGUgYWx0ZXJhdGlvbnMgbnVtYmVyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IG9jdGF2ZSAtIChPcHRpb25hbCkgdGhlIG9jdGF2ZVxuICogQHBhcmFtIHtJbnRlZ2VyfSBkdXJhdGlvbiAtIChPcHRpb25hbCkgZHVyYXRpb25cbiAqIEByZXR1cm4ge0FycmF5fSB0aGUgcGl0Y2ggaW4gYXJyYXkgZm9ybWF0XG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBmcm9tUHJvcHMgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9hcnJheS9mcm9tLXByb3BzJylcbiAqIGZyb21Qcm9wcyhbMCwgMSwgNCwgMF0pXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ZXAsIGFsdCwgb2N0LCBkdXIpIHtcbiAgdmFyIGJhc2UgPSBCQVNFU1tzdGVwXVxuICBhbHQgPSBhbHQgfHwgMFxuICB2YXIgZiA9IGJhc2VbMF0gKyA3ICogYWx0XG4gIGlmICh0eXBlb2Ygb2N0ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFtmXVxuICB2YXIgbyA9IG9jdCArIGJhc2VbMV0gLSA0ICogYWx0XG4gIGlmICh0eXBlb2YgZHVyID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFtmLCBvXVxuICBlbHNlIHJldHVybiBbZiwgbywgZHVyXVxufVxuIiwiXG4vLyBzaG9ydGhhbmQgdG9uYWwgbm90YXRpb24gKHdpdGggcXVhbGl0eSBhZnRlciBudW1iZXIpXG52YXIgVE9OQUwgPSAnKFstK10/KShcXFxcZCspKGR7MSw0fXxtfE18UHxBezEsNH18YnsxLDR9fCN7MSw0fXwpJ1xuLy8gc3RyaWN0IHNob3J0aGFuZCBub3RhdGlvbiAod2l0aCBxdWFsaXR5IGJlZm9yZSBudW1iZXIpXG52YXIgU1RSSUNUID0gJyhBQXxBfFB8TXxtfGR8ZGQpKFstK10/KShcXFxcZCspJ1xudmFyIENPTVBPU0UgPSAnKD86KCcgKyBUT05BTCArICcpfCgnICsgU1RSSUNUICsgJykpJ1xuXG4vKipcbiAqIEEgcmVnZXggZm9yIHBhcnNlIGludGVydmFscyBpbiBzaG9ydGhhbmQgbm90YXRpb25cbiAqXG4gKiBUaHJlZSBkaWZmZXJlbnQgc2hvcnRoYW5kIG5vdGF0aW9ucyBhcmUgc3VwcG9ydGVkOlxuICpcbiAqIC0gZGVmYXVsdCBbZGlyZWN0aW9uXVtudW1iZXJdW3F1YWxpdHldOiB0aGUgcHJlZmVycmVkIHN0eWxlIGAzTWAsIGAtNUFgXG4gKiAtIHN0cmljdDogW3F1YWxpdHldW2RpcmVjdGlvbl1bbnVtYmVyXSwgZm9yIGV4YW1wbGU6IGBNM2AsIGBBLTVgXG4gKiAtIGFsdGVyZWQ6IFtkaXJlY3Rpb25dW251bWJlcl1bYWx0ZXJhdGlvbnNdOiBgM2AsIGAtNSNgXG4gKlxuICogQG5hbWUgaW50ZXJ2YWwucmVnZXhcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBuZXcgUmVnRXhwKCdeJyArIENPTVBPU0UgKyAnJCcpXG4iLCIndXNlIHN0cmljdCdcblxudmFyIHByb3BzID0gcmVxdWlyZSgnLi4vYXJyYXkvdG8tcHJvcHMnKVxudmFyIGFjYyA9IHJlcXVpcmUoJy4uL2FjY2lkZW50YWxzL3N0cicpXG52YXIgY2FjaGUgPSB7fVxuXG4vKipcbiAqIEdldCBbc2NpZW50aWZpYyBwaXRjaCBub3RhdGlvbl0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2NpZW50aWZpY19waXRjaF9ub3RhdGlvbikgc3RyaW5nXG4gKiBmcm9tIHBpdGNoIGluIFthcnJheSBub3RhdGlvbl0oKVxuICpcbiAqIEFycmF5IGxlbmd0aCBtdXN0IGJlIDEgb3IgMyAoc2VlIGFycmF5IG5vdGF0aW9uIGRvY3VtZW50YXRpb24pXG4gKlxuICogVGhlIHJldHVybmVkIHN0cmluZyBmb3JtYXQgaXMgYGxldHRlclsrIGFjY2lkZW50YWxzXVsrIG9jdGF2ZV1bL2R1cmF0aW9uXWAgd2hlcmUgdGhlIGxldHRlclxuICogaXMgYWx3YXlzIHVwcGVyY2FzZSwgYW5kIHRoZSBhY2NpZGVudGFscywgb2N0YXZlIGFuZCBkdXJhdGlvbiBhcmUgb3B0aW9uYWwuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBtZW1vaXplZCBmb3IgYmV0dGVyIHBlcmZvbWFuY2UuXG4gKlxuICogQG5hbWUgbm90ZS5zdHJcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtBcnJheX0gYXJyIC0gdGhlIG5vdGUgaW4gYXJyYXkgbm90YXRpb25cbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIG5vdGUgaW4gc2NpZW50aWZpYyBub3RhdGlvbiBvciBudWxsIGlmIG5vdCB2YWxpZCBub3RlIGFycmF5XG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBzdHIgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9ub3RlL3N0cicpXG4gKiBzdHIoWzBdKSAvLyA9PiAnRidcbiAqIHN0cihbMCwgNF0pIC8vID0+IG51bGwgKGl0cyBhbiBpbnRlcnZhbClcbiAqIHN0cihbMCwgNCwgbnVsbF0pIC8vID0+ICdGNCdcbiAqIHN0cihbMCwgNCwgMl0pIC8vID0+ICdGNC8yJ1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KGFycikgfHwgYXJyLmxlbmd0aCA8IDEgfHwgYXJyLmxlbmd0aCA9PT0gMikgcmV0dXJuIG51bGxcbiAgdmFyIHN0ciA9ICd8JyArIGFyclswXSArICd8JyArIGFyclsxXSArICd8JyArIGFyclsyXVxuICByZXR1cm4gc3RyIGluIGNhY2hlID8gY2FjaGVbc3RyXSA6IGNhY2hlW3N0cl0gPSBidWlsZChhcnIpXG59XG5cbnZhciBMRVRURVIgPSBbJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdBJywgJ0InXVxuZnVuY3Rpb24gYnVpbGQgKGNvb3JkKSB7XG4gIHZhciBwID0gcHJvcHMoY29vcmQpXG4gIHJldHVybiBMRVRURVJbcFswXV0gKyBhY2MocFsxXSkgKyAocFsyXSAhPT0gbnVsbCA/IHBbMl0gOiAnJykgKyAocFszXSAhPT0gbnVsbCA/ICcvJyArIHBbM10gOiAnJylcbn1cbiIsIid1c2Ugc3RyaWN0J1xuXG4vKipcbiAqIEJ1aWxkIGFuIGFjY2lkZW50YWxzIHN0cmluZyBmcm9tIGFsdGVyYXRpb24gbnVtYmVyXG4gKlxuICogQG5hbWUgYWNjaWRlbnRhbHMuc3RyXG4gKiBAcGFyYW0ge0ludGVnZXJ9IGFsdGVyYXRpb24gLSB0aGUgYWx0ZXJhdGlvbiBudW1iZXJcbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGFjY2lkZW50YWxzIHN0cmluZ1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgYWNjaWRlbnRhbHMgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9hY2NpZGVudGFscy9zdHInKVxuICogYWNjaWRlbnRhbHMoMCkgLy8gPT4gJydcbiAqIGFjY2lkZW50YWxzKDEpIC8vID0+ICcjJ1xuICogYWNjaWRlbnRhbHMoMikgLy8gPT4gJyMjJ1xuICogYWNjaWRlbnRhbHMoLTEpIC8vID0+ICdiJ1xuICogYWNjaWRlbnRhbHMoLTIpIC8vID0+ICdiYidcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobnVtKSB7XG4gIGlmIChudW0gPCAwKSByZXR1cm4gQXJyYXkoLW51bSArIDEpLmpvaW4oJ2InKVxuICBlbHNlIGlmIChudW0gPiAwKSByZXR1cm4gQXJyYXkobnVtICsgMSkuam9pbignIycpXG4gIGVsc2UgcmV0dXJuICcnXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHByb3BzID0gcmVxdWlyZSgnLi4vYXJyYXkvdG8tcHJvcHMnKVxudmFyIGNhY2hlID0ge31cblxuLyoqXG4gKiBHZXQgYSBzdHJpbmcgd2l0aCBhIFtzaG9ydGhhbmQgaW50ZXJ2YWwgbm90YXRpb25dKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0ludGVydmFsXyhtdXNpYykjU2hvcnRoYW5kX25vdGF0aW9uKVxuICogZnJvbSBpbnRlcnZhbCBpbiBbYXJyYXkgbm90YXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5pZ2IvbXVzaWMuYXJyYXkubm90YXRpb24pXG4gKlxuICogVGhlIHJldHVybmVkIHN0cmluZyBoYXMgdGhlIGZvcm06IGBudW1iZXIgKyBxdWFsaXR5YCB3aGVyZSBudW1iZXIgaXMgdGhlIGludGVydmFsIG51bWJlclxuICogKHBvc2l0aXZlIGludGVnZXIgZm9yIGFzY2VuZGluZyBpbnRlcnZhbHMsIG5lZ2F0aXZlIGludGVnZXIgZm9yIGRlc2NlbmRpbmcgaW50ZXJ2YWxzLCBuZXZlciAwKVxuICogYW5kIHRoZSBxdWFsaXR5IGlzIG9uZSBvZjogJ00nLCAnbScsICdQJywgJ2QnLCAnQScgKG1ham9yLCBtaW5vciwgcGVyZmVjdCwgZGltaXNoZWQsIGF1Z21lbnRlZClcbiAqXG4gKiBAbmFtZSBpbnRlcnZhbC5zdHJcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtBcnJheX0gaW50ZXJ2YWwgLSB0aGUgaW50ZXJ2YWwgaW4gYXJyYXkgbm90YXRpb25cbiAqIEByZXR1cm4ge1N0cmluZ30gdGhlIGludGVydmFsIHN0cmluZyBpbiBzaG9ydGhhbmQgbm90YXRpb24gb3IgbnVsbCBpZiBub3QgdmFsaWQgaW50ZXJ2YWxcbiAqXG4gKiBAZXhhbXBsZVxuICogdmFyIHN0ciA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL2ludGVydmFsL3N0cicpXG4gKiBzdHIoWzEsIDAsIDBdKSAvLyA9PiAnMk0nXG4gKiBzdHIoWzEsIDAsIDFdKSAvLyA9PiAnOU0nXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFycikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXJyKSB8fCBhcnIubGVuZ3RoICE9PSAyKSByZXR1cm4gbnVsbFxuICB2YXIgc3RyID0gJ3wnICsgYXJyWzBdICsgJ3wnICsgYXJyWzFdXG4gIHJldHVybiBzdHIgaW4gY2FjaGUgPyBjYWNoZVtzdHJdIDogY2FjaGVbc3RyXSA9IGJ1aWxkKGFycilcbn1cblxudmFyIEFMVEVSID0ge1xuICBQOiBbJ2RkZGQnLCAnZGRkJywgJ2RkJywgJ2QnLCAnUCcsICdBJywgJ0FBJywgJ0FBQScsICdBQUFBJ10sXG4gIE06IFsnZGRkJywgJ2RkJywgJ2QnLCAnbScsICdNJywgJ0EnLCAnQUEnLCAnQUFBJywgJ0FBQUEnXVxufVxudmFyIFRZUEVTID0gJ1BNTVBQTU0nXG5cbmZ1bmN0aW9uIGJ1aWxkIChjb29yZCkge1xuICB2YXIgcCA9IHByb3BzKGNvb3JkKVxuICB2YXIgdCA9IFRZUEVTW3BbMF1dXG5cbiAgdmFyIGRpciwgbnVtLCBhbHRcbiAgLy8gaWYgaXRzIGRlc2NlbmluZywgaW52ZXJ0IG51bWJlclxuICBpZiAocFsyXSA8IDApIHtcbiAgICBkaXIgPSAtMVxuICAgIG51bSA9ICg4IC0gcFswXSkgLSA3ICogKHBbMl0gKyAxKVxuICAgIGFsdCA9IHQgPT09ICdQJyA/IC1wWzFdIDogLShwWzFdICsgMSlcbiAgfSBlbHNlIHtcbiAgICBkaXIgPSAxXG4gICAgbnVtID0gcFswXSArIDEgKyA3ICogcFsyXVxuICAgIGFsdCA9IHBbMV1cbiAgfVxuICB2YXIgcSA9IEFMVEVSW3RdWzQgKyBhbHRdXG4gIHJldHVybiBkaXIgKiBudW0gKyBxXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHRyYW5zZm9ybSA9IHJlcXVpcmUoJ211c2ljLWdhbXV0JykudHJhbnNmb3JtXG5cbm1vZHVsZS5leHBvcnRzID1cbi8qKlxuICogU29ydCBhIGNvbGxlY3Rpb24gb2Ygbm90ZXMgb3IgaW50ZXJ2YWxzLiBJdCBjYW4gc29ydCBpbiBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZ1xuICogcGl0Y2ggb3JkZXIgb3IgdXNpbmcgYSBjdXN0b20gY29tcGFyYXRvci5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJpZmllZFxuICpcbiAqIEBuYW1lIHNvcnRcbiAqIEBmdW5jdGlvblxuICogQHBhcmFtIHtGdW5jdGlvbnxCb29sZWFufSBjb21wYXJhdG9yIC0gdGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24sIG9yIHRydWUgdG9cbiAqIHNvcnQgaW4gYXNjZW5kaW5nIHBpdGNoIG9yZGVyIGFuZCBmYWxzZSB0byBzb3J0IGluIGRlc2NlbmRpbmcgcGl0Y2ggb3JkZXJcbiAqIEBwYXJhbSB7U3RyaW5nfEFycmF5fSBzb3VyY2UgLSB0aGUgbm90ZXMgb3IgaW50ZXJ2YWxzIGxpc3RcbiAqIEByZXR1cm4ge0FycmF5fSB0aGUgbm90ZXMgb3IgaW50ZXJ2YWxzIHNvcnRlZFxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgc29ydCA9IHJlcXVpcmUoJ25vdGUtc29ydGVyJylcbiAqIHNvcnQodHJ1ZSwgJ2M1IGQyIGY0IEQyJykgLy8gPT4gWydEMicsICdEMicsICdGNCcsICdDNSddXG4gKiBzb3J0KGZhbHNlLCAnYzUgZDIgZjQgRDInKSAvLyA9PiBbJ0M1JywgJ0Y0JywgJ0QyJywgJ0QyJ11cbiAqXG4gKiAvLyBwYXJ0aWFsbHkgYXBwbGllZFxuICogdmFyIGRlc2NlbmRpbmcgPSBzb3J0KGZhbHNlKVxuICogZGVzY2VuZGluZygnQyBEIEUgRiBHJykgLy8gPT4gWyAnRycsICdGJywgJ0UnLCAnRCcsICdDJyBdXG4gKi9cbmZ1bmN0aW9uIHNvcnQgKGNvbXAsIHNvdXJjZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHJldHVybiBzb3J0KGNvbXApKHNvdXJjZSlcbiAgaWYgKGNvbXAgPT09IG51bGwgfHwgY29tcCA9PT0gdHJ1ZSkgY29tcCA9IGFzY1xuICBlbHNlIGlmIChjb21wID09PSBmYWxzZSkgY29tcCA9IGRlc2NcbiAgcmV0dXJuIHRyYW5zZm9ybShmdW5jdGlvbiAoZykgeyByZXR1cm4gZy5zb3J0KGNvbXApIH0pXG59XG5cbmZ1bmN0aW9uIGFzYyAoYSwgYikgeyByZXR1cm4gaGVpZ2h0KGEpIC0gaGVpZ2h0KGIpIH1cbmZ1bmN0aW9uIGRlc2MgKGEsIGIpIHsgcmV0dXJuIC1hc2MoYSwgYikgfVxuXG4vLyBVc2VzIGEgY3VzdG9tIGhlaWdodCBmdW5jdGlvbiAoaW5zdGVhZCBvZiBzZW1pdG9uZXMpIGJlY2F1c2UgMSkgdGhlIEluZmludHksXG4vLyBmb3IgbnVsbCB2YWx1ZXMgYW5kIDIpIHRoZSBwaXRjaCBjbGFzcyBvY3RhdmUgbnVtYmVyXG5mdW5jdGlvbiBoZWlnaHQgKHApIHtcbiAgaWYgKCFwKSByZXR1cm4gLUluZmluaXR5XG4gIHZhciBmID0gcFswXSAqIDdcbiAgdmFyIG8gPSBwWzFdIHx8IHBbMV0gPT09IDAgPyBwWzFdIDogLU1hdGguZmxvb3IoZiAvIDEyKSAtIDEwXG4gIHJldHVybiBmICsgbyAqIDEyXG59XG4iLCIndXNlIHN0cmljdCdcblxudmFyIHBhcnNlID0gcmVxdWlyZSgnbXVzaWMtbm90YXRpb24vcGl0Y2gvcGFyc2UnKVxudmFyIGdhbXV0ID0gcmVxdWlyZSgnbXVzaWMtZ2FtdXQnKVxudmFyIGRpc3RhbmNlVG8gPSByZXF1aXJlKCdub3RlLWludGVydmFsJylcbnZhciB0cmFuc3Bvc2UgPSByZXF1aXJlKCdub3RlLXRyYW5zcG9zZXInKVxuXG4vKipcbiAqIEhhcm1vbml6ZSBhIG5vdGUgdXNpbmcgYSBjb2xsZWN0aW9uIG9mIGludGVydmFscyBvciBub3Rlcy5cbiAqXG4gKiBUaGUgdG9uaWMgbXVzdCBiZVxuICogYSBwaXRjaCAod2l0aCBvciB3aXRob3V0IG9jdGF2ZSkgb3IgZmFsc2UgdG8gZ2V0IHRoZSBpbnRlcnZhbHNcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJpZmllZCwgc28geW91IGNhbiBwYXJ0aWFsbHkgYXBwbHkgdGhlIGZ1bmN0aW9uIHBhc3NpbmdcbiAqIG9uZSBwYXJhbWV0ZXIgaW5zdGVhZCBvZiB0d28gKHNlZSBleGFtcGxlKVxuICpcbiAqIEBmdW5jdGlvbiBoYXJtb25pemVcbiAqIEBwYXJhbSB7QXJyYXl9IHNvdXJjZSAtIHRoZSBsaXN0IG9mIGludGVydmFscyBvciBub3Rlc1xuICogQHBhcmFtIHtTdHJpbmd9IHRvbmljIC0gdGhlIHRvbmljIG9mIHRoZSBjaG9yZCBvciBudWxsIHRvIGdldCB0aGUgaW50ZXJ2YWxzXG4gKiBAcmV0dXJuIHtBcnJheX0gdGhlIGNob3JkIG5vdGVzIG9yIGludGVydmFsc1xuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgaGFybW9uaXplID0gcmVxdWlyZSgnbm90ZS1oYXJtb25pemUnKVxuICogaGFybW9uaXplKCcxIDMgNSA2JywgJ0cnKSAvLyA9PiBbJ0cnLCAnQicsICdEJywgJ0UnXVxuICogaGFybW9uaXplKCdHIEIgRCBFJywgZmFsc2UpIC8vID0+IFsnMVAnLCAnM00nLCAnNVAnLCAnNk0nXVxuICpcbiAqIC8vIGNyZWF0ZSBoYXJtb25pemVyczpcbiAqIHZhciBtYWo3OSA9IGhhcm1vbml6ZSgnMSAzIDUgNyA5JylcbiAqIG1hajc5KCdBNCcpIC8vID0+IFsnQTQnLCAnQyM1JywgJ0U1JywgJ0cjNScsICdCNSddXG4gKi9cbmZ1bmN0aW9uIGhhcm1vbml6ZSAoc291cmNlLCB0b25pYykge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkgcmV0dXJuIGZ1bmN0aW9uICh0KSB7IHJldHVybiBoYXJtb25pemUoc291cmNlLCB0KSB9XG4gIHJldHVybiBnYW11dC50cmFuc2Zvcm0oZnVuY3Rpb24gKGcpIHtcbiAgICBpZiAodG9uaWMgPT09IG51bGwpIHJldHVybiBnXG4gICAgdmFyIGJhc2UgPSBnWzBdXG4gICAgdmFyIGludGVydmFscyA9IGcubWFwKGRpc3RhbmNlVG8oYmFzZSkpXG4gICAgaWYgKHRvbmljID09PSBmYWxzZSkgcmV0dXJuIGludGVydmFsc1xuICAgIHRvbmljID0gcGFyc2UodG9uaWMpXG4gICAgcmV0dXJuIGludGVydmFscy5tYXAodHJhbnNwb3NlKHRvbmljKSlcbiAgfSwgc291cmNlKVxufVxuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcgJiYgbW9kdWxlLmV4cG9ydHMpIG1vZHVsZS5leHBvcnRzID0gaGFybW9uaXplXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHdpbmRvdy5oYXJtb25pemUgPSBoYXJtb25pemVcbiIsInZhciBwYXJzZSA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL3BpdGNoL3BhcnNlJylcbnZhciBzdHIgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9waXRjaC9zdHInKVxudmFyIG5vdGF0aW9uID0gcmVxdWlyZSgnbXVzaWMtbm90YXRpb24vb3BlcmF0aW9uJykocGFyc2UsIHN0cilcblxuLyoqXG4gKiBHZXQgdGhlIGludGVydmFsIGJldHdlZW4gdHdvIHBpdGNoZXNcbiAqXG4gKiBJZiBvbmUgb3IgYm90aCBhcmUgcGl0Y2ggY2xhc3NlcywgYSBzaW1wbGUgYXNjZW5kaW5nIGludGVydmFsIGlzIHJldHVybmVkXG4gKlxuICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgcGFydGlhbGx5IGFwcGxpZWQgKHNlZSBleGFtcGxlcylcbiAqXG4gKiBAbmFtZSBub3RlLmludGVydmFsXG4gKiBAZnVuY3Rpb25cbiAqIEBwYXJhbSB7U3RyaW5nfSBmcm9tIC0gdGhlIGZpcnN0IG5vdGVcbiAqIEBwYXJhbSB7U3RyaW5nfSB0byAtIHRoZSBzZWNvbmQgbm90ZVxuICogQHJldHVybiB7U3RyaW5nfSB0aGUgaW50ZXJ2YWwgYmV0d2VlbiB0aGVtXG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBpbnRlcnZhbCA9IHJlcXVpcmUoJ25vdGUtaW50ZXJ2YWwnKVxuICogaW50ZXJ2YWwoJ0MyJywgJ0QzJykgLy8gPT4gJzlNJ1xuICogaW50ZXJ2YWwoJ0QyJywgJ0MyJykgLy8gPT4gJy0yTSdcbiAqIGludGVydmFsKCdEJywgJ0MnKSAvLyA9PiAnN20nXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIHBhcnRpYWxseSBhcHBsaWVkXG4gKiB2YXIgZnJvbUMgPSBpbnRlcnZhbCgnQycpXG4gKiBmcm9tQygnRCcpIC8vID0+ICcyTSdcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBub3RhdGlvbihmdW5jdGlvbiAoYSwgYikge1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYSkgfHwgIUFycmF5LmlzQXJyYXkoYikpIHJldHVybiBudWxsXG4gIGlmIChhLmxlbmd0aCA9PT0gMSB8fCBiLmxlbmd0aCA9PT0gMSkge1xuICAgIHZhciBiYXNlID0gYlswXSAtIGFbMF1cbiAgICByZXR1cm4gW2Jhc2UsIC1NYXRoLmZsb29yKGJhc2UgKiA3IC8gMTIpXVxuICB9XG4gIHJldHVybiBbYlswXSAtIGFbMF0sIGJbMV0gLSBhWzFdXVxufSlcbiIsInZhciBwYXJzZSA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL3BpdGNoL3BhcnNlJylcbnZhciBzdHIgPSByZXF1aXJlKCdtdXNpYy1ub3RhdGlvbi9waXRjaC9zdHInKVxudmFyIG9wZXJhdGlvbiA9IHJlcXVpcmUoJ211c2ljLW5vdGF0aW9uL29wZXJhdGlvbicpKHBhcnNlLCBzdHIpXG5cbi8qKlxuICogVHJhbnNwb3NlcyBhIG5vdGUgYnkgYW4gaW50ZXJ2YWwuXG4gKlxuICogR2l2ZW4gYSBub3RlIGFuZCBhbiBpbnRlcnZhbCBpdCByZXR1cm5zIHRoZSB0cmFuc3Bvc2VkIG5vdGUuIEl0IGNhbiBiZSB1c2VkXG4gKiB0byBhZGQgaW50ZXJ2YWxzIGlmIGJvdGggcGFyYW1ldGVycyBhcmUgaW50ZXJ2YWxzLlxuICpcbiAqIFRoZSBvcmRlciBvZiB0aGUgcGFyYW1ldGVycyBpcyBpbmRpZmZlcmVudC5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJpZmllZCBzbyBpdCBjYW4gYmUgdXNlZCB0byBtYXAgYXJyYXlzIG9mIG5vdGVzLlxuICpcbiAqIEBuYW1lIHRyYW5zcG9zZVxuICogQGZ1bmN0aW9uXG4gKiBAcGFyYW0ge1N0cmluZ3xBcnJheX0gaW50ZXJ2YWwgLSB0aGUgaW50ZXJ2YWwuIElmIGl0cyBmYWxzZSwgdGhlIG5vdGUgaXMgbm90XG4gKiB0cmFuc3Bvc2VkLlxuICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IG5vdGUgLSB0aGUgbm90ZSB0byB0cmFuc3Bvc2VcbiAqIEByZXR1cm4ge1N0cmluZ3xBcnJheX0gdGhlIG5vdGUgdHJhbnNwb3NlZFxuICpcbiAqIEBleGFtcGxlXG4gKiB2YXIgdHJhbnNwb3NlID0gcmVxdWlyZSgnbm90ZS10cmFuc3Bvc2VyJylcbiAqIHRyYW5zcG9zZSgnM20nLCAnQzQnKSAvLyA9PiAnRWI0J1xuICogdHJhbnNwb3NlKCdDNCcsICczbScpIC8vID0+ICdFYjQnXG4gKiB0cmFucG9zZShbMSwgMCwgMl0sIFszLCAtMSwgMF0pIC8vID0+IFszLCAwLCAyXVxuICogWydDJywgJ0QnLCAnRSddLm1hcCh0cmFuc3Bvc2UoJzNNJykpIC8vID0+IFsnRScsICdGIycsICdHIyddXG4gKi9cbnZhciB0cmFuc3Bvc2UgPSBvcGVyYXRpb24oZnVuY3Rpb24gKGksIG4pIHtcbiAgaWYgKGkgPT09IGZhbHNlKSByZXR1cm4gblxuICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShpKSB8fCAhQXJyYXkuaXNBcnJheShuKSkgcmV0dXJuIG51bGxcbiAgZWxzZSBpZiAoaS5sZW5ndGggPT09IDEgfHwgbi5sZW5ndGggPT09IDEpIHJldHVybiBbblswXSArIGlbMF1dXG4gIHZhciBkID0gaS5sZW5ndGggPT09IDIgJiYgbi5sZW5ndGggPT09IDIgPyBudWxsIDogblsyXSB8fCBpWzJdXG4gIHJldHVybiBbblswXSArIGlbMF0sIG5bMV0gKyBpWzFdLCBkXVxufSlcblxuaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSBtb2R1bGUuZXhwb3J0cyA9IHRyYW5zcG9zZVxuaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB3aW5kb3cudHJhbnNwb3NlID0gdHJhbnNwb3NlXG4iLCIndXNlIHN0cmljdCdcblxudmFyIGRhdGEgPSByZXF1aXJlKCcuL3NjYWxlcy5qc29uJylcblxuLyoqXG4gKiBBIHNjYWxlIGRpY3Rpb25hcnkuIEl0J3MgYSBoYXNobWFwIG9mIHNjYWxlIG5hbWVzIG1hcHBlZCB0byBhbiBhcnJheSBvZlxuICogaW50ZXJ2YWxzIGluIHNob3J0aGFuZCBub3RhdGlvbiBvciBhIHN0cmluZyB3aXRoIG90aGVyIG5hbWUgKGlmIGl0J3MgYW5cbiAqIGFsaWFzKVxuICpcbiAqIEBuYW1lIHNjYWxlc1xuICogQHR5cGUge0hhc2hNYXB9XG4gKlxuICogQGV4YW1wbGVcbiAqIHZhciBzY2FsZXMgPSByZXF1aXJlKCdzY2FsZS1kaWN0aW9uYXJ5JylcbiAqIHNjYWxlc1snTWFqNyddIC8vID0+IFsnMScsICczJywgJzUnLCAnNyddXG4gKiBzY2FsZVsnbWFqNyddIC8vID0+ICdNYWo3JyAoYW4gYWxpYXMpXG4gKiBPYmplY3Qua2V5cyhzY2FsZXMpIC8vIGFsbCBzY2FsZSBuYW1lc1xuICovXG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdC5rZXlzKGRhdGEpLnJlZHVjZShmdW5jdGlvbiAoc2NhbGVzLCBrZXkpIHtcbiAgc2NhbGVzW2tleV0gPSBkYXRhW2tleV1bMF0uc3BsaXQoJyAnKVxuICBpZiAoZGF0YVtrZXldWzFdKSB7XG4gICAgZGF0YVtrZXldWzFdLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsgc2NhbGVzW25hbWVdID0ga2V5IH0pXG4gIH1cbiAgcmV0dXJuIHNjYWxlc1xufSwge30pXG4iLCJjb25zdCBFVkVOVF9QTEFZID0gXCJwbGF5XCI7XG5jb25zdCBFVkVOVF9QQVVTRSA9IFwicGF1c2VcIjtcbmNvbnN0IEVWRU5UX1JFU0VUID0gXCJyZXNldFwiO1xuY29uc3QgRVZFTlRfUExBWUJBQ0sgPSBcInBsYXliYWNrXCI7XG5jb25zdCBFVkVOVF9BVURJT19VUCA9IFwiYXVkaW8tdXBcIjtcbmNvbnN0IEVWRU5UX0FVRElPX0RPV04gPSBcImF1ZGlvLWRvd25cIjtcbmNvbnN0IEVWRU5UX0FVRElPX0xPQURJTkcgPSBcImF1ZGlvLWxvYWRpbmdcIjtcbmNvbnN0IEVWRU5UX0FVRElPX0xPQURFRCA9IFwiYXVkaW8tbG9hZGVkXCI7XG5jb25zdCBFVkVOVF9NRVNTQUdFID0gXCJtZXNzYWdlXCI7XG5jb25zdCBFVkVOVF9EQVRBX0xPQURJTkcgPSBcImRhdGEtbG9hZGluZ1wiO1xuY29uc3QgRVZFTlRfREFUQV9MT0FERUQgPSBcImRhdGEtbG9hZGVkXCI7XG5jb25zdCBFVkVOVF9UT05JQ19DSEFOR0UgPSBcInRvbmljLWNoYW5nZVwiO1xuY29uc3QgRVZFTlRfU0NBTEVfQ0hBTkdFID0gXCJzY2FsZS1jaGFuZ2VcIjtcbmNvbnN0IEVWRU5UX0VORFBPSU5UX0NIQU5HRSA9IFwiZW5kcG9pbnQtY2hhbmdlXCI7XG5cbmV4cG9ydCB7XG4gIEVWRU5UX1BMQVksXG4gIEVWRU5UX1BBVVNFLFxuICBFVkVOVF9SRVNFVCxcbiAgRVZFTlRfUExBWUJBQ0ssXG4gIEVWRU5UX0FVRElPX1VQLFxuICBFVkVOVF9BVURJT19ET1dOLFxuICBFVkVOVF9NRVNTQUdFLFxuICBFVkVOVF9BVURJT19MT0FESU5HLFxuICBFVkVOVF9BVURJT19MT0FERUQsXG4gIEVWRU5UX0RBVEFfTE9BRElORyxcbiAgRVZFTlRfREFUQV9MT0FERUQsXG4gIEVWRU5UX1RPTklDX0NIQU5HRSxcbiAgRVZFTlRfU0NBTEVfQ0hBTkdFLFxuICBFVkVOVF9FTkRQT0lOVF9DSEFOR0UsXG59O1xuIiwiY29uc3QgUVVFUlkgPVxuICBcImh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93L2FwaS5waHA/YWN0aW9uPXF1ZXJ5Jmxpc3Q9cmVjZW50Y2hhbmdlcyZyY3Byb3A9dGl0bGV8c2l6ZXN8ZmxhZ3N8dGltZXN0YW1wJnJjdHlwZT1lZGl0JnJjbGltaXQ9NTAwJm9yaWdpbj0qJmZvcm1hdD1qc29uXCI7XG5cbmNvbnN0IGZldGNoSW50ZXJ2YWwgPSAxMCAqIDYwICogMTAwMDtcblxuY29uc3QgZmV0Y2hEYXRhID0gKCkgPT5cbiAgZmV0Y2goUVVFUlkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgcmVzcG9uc2UucXVlcnkucmVjZW50Y2hhbmdlc1xuICAgICAgICAubWFwKChjaGFuZ2UpID0+ICh7XG4gICAgICAgICAgdGl0bGU6IGAke2NoYW5nZS50aXRsZX0gKCR7bmV3IERhdGUoXG4gICAgICAgICAgICBjaGFuZ2UudGltZXN0YW1wXG4gICAgICAgICAgKS50b0xvY2FsZURhdGVTdHJpbmcoKX0pIH4gJHtNYXRoLmFicyhcbiAgICAgICAgICAgIGNoYW5nZS5vbGRsZW4gLSBjaGFuZ2UubmV3bGVuXG4gICAgICAgICAgKX1gLFxuICAgICAgICAgIHZhbHVlOiBNYXRoLmxvZyhNYXRoLmFicyhjaGFuZ2Uub2xkbGVuIC0gY2hhbmdlLm5ld2xlbikpLFxuICAgICAgICAgIHN0YXJ0OiBuZXcgRGF0ZShjaGFuZ2UudGltZXN0YW1wKS5nZXRUaW1lKCkgLyAxMDAwLFxuICAgICAgICAgIGVuZDogbmV3IERhdGUoY2hhbmdlLnRpbWVzdGFtcCkuZ2V0VGltZSgpIC8gMTAwMCxcbiAgICAgICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKGNoYW5nZSkgPT4gY2hhbmdlLnZhbHVlID4gMClcbiAgICApO1xuXG5leHBvcnQgeyBmZXRjaERhdGEsIGZldGNoSW50ZXJ2YWwgfTtcbiIsImNvbnN0IFFVRVJZX1NUT1JJRVMgPSBcImh0dHBzOi8vaGFja2VyLW5ld3MuZmlyZWJhc2Vpby5jb20vdjAvbmV3c3Rvcmllcy5qc29uXCI7XG5jb25zdCBRVUVSWV9TVE9SWSA9IFwiaHR0cHM6Ly9oYWNrZXItbmV3cy5maXJlYmFzZWlvLmNvbS92MC9pdGVtL3swfS5qc29uXCI7XG5cbmNvbnN0IGZldGNoSW50ZXJ2YWwgPSAzMCAqIDYwICogMTAwMDtcblxuY29uc3QgZmV0Y2hEYXRhID0gKCkgPT5cbiAgZmV0Y2goUVVFUllfU1RPUklFUylcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAudGhlbigoc3RvcmllcykgPT5cbiAgICAgIFByb21pc2UuYWxsKFxuICAgICAgICBzdG9yaWVzLm1hcCgoc3RvcnkpID0+XG4gICAgICAgICAgZmV0Y2goUVVFUllfU1RPUlkucmVwbGFjZShcInswfVwiLCBzdG9yeSkpLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgICAgKVxuICAgICAgKVxuICAgIClcbiAgICAudGhlbigocmVzcG9uc2UpID0+XG4gICAgICByZXNwb25zZVxuICAgICAgICAuZmlsdGVyKChzdG9yeSkgPT4gc3RvcnkgJiYgc3Rvcnkuc2NvcmUpXG4gICAgICAgIC5tYXAoKHN0b3J5KSA9PiAoe1xuICAgICAgICAgIHRpdGxlOiBgJHtzdG9yeS50aXRsZX0gKCR7bmV3IERhdGUoXG4gICAgICAgICAgICBzdG9yeS50aW1lICogMTAwMFxuICAgICAgICAgICkudG9Mb2NhbGVEYXRlU3RyaW5nKCl9KSB+ICR7c3Rvcnkuc2NvcmV9YCxcbiAgICAgICAgICB2YWx1ZTogTWF0aC5sb2coc3Rvcnkuc2NvcmUpLFxuICAgICAgICAgIHN0YXJ0OiBzdG9yeS50aW1lLFxuICAgICAgICAgIGVuZDogc3RvcnkudGltZSxcbiAgICAgICAgfSkpXG4gICAgKTtcblxuZXhwb3J0IHsgZmV0Y2hEYXRhLCBmZXRjaEludGVydmFsIH07XG4iLCJjb25zdCBRVUVSWV9TVE9SSUVTID0gXCJodHRwczovL2hhY2tlci1uZXdzLmZpcmViYXNlaW8uY29tL3YwL3RvcHN0b3JpZXMuanNvblwiO1xuY29uc3QgUVVFUllfU1RPUlkgPSBcImh0dHBzOi8vaGFja2VyLW5ld3MuZmlyZWJhc2Vpby5jb20vdjAvaXRlbS97MH0uanNvblwiO1xuXG5jb25zdCBmZXRjaEludGVydmFsID0gMzAgKiA2MCAqIDEwMDA7XG5cbmNvbnN0IGZldGNoRGF0YSA9ICgpID0+XG4gIGZldGNoKFFVRVJZX1NUT1JJRVMpXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PiByZXNwb25zZS5qc29uKCkpXG4gICAgLnRoZW4oKHN0b3JpZXMpID0+XG4gICAgICBQcm9taXNlLmFsbChcbiAgICAgICAgc3Rvcmllcy5tYXAoKHN0b3J5KSA9PlxuICAgICAgICAgIGZldGNoKFFVRVJZX1NUT1JZLnJlcGxhY2UoXCJ7MH1cIiwgc3RvcnkpKS50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAgIClcbiAgICAgIClcbiAgICApXG4gICAgLnRoZW4oKHJlc3BvbnNlKSA9PlxuICAgICAgcmVzcG9uc2VcbiAgICAgICAgLmZpbHRlcigoc3RvcnkpID0+IHN0b3J5ICYmIHN0b3J5LnNjb3JlKVxuICAgICAgICAubWFwKChzdG9yeSkgPT4gKHtcbiAgICAgICAgICB0aXRsZTogYCR7c3RvcnkudGl0bGV9ICgke25ldyBEYXRlKFxuICAgICAgICAgICAgc3RvcnkudGltZSAqIDEwMDBcbiAgICAgICAgICApLnRvTG9jYWxlRGF0ZVN0cmluZygpfSkgfiAke3N0b3J5LnNjb3JlfWAsXG4gICAgICAgICAgdmFsdWU6IE1hdGgubG9nKHN0b3J5LnNjb3JlKSxcbiAgICAgICAgICBzdGFydDogc3RvcnkudGltZSxcbiAgICAgICAgICBlbmQ6IHN0b3J5LnRpbWUsXG4gICAgICAgIH0pKVxuICAgICk7XG5cbmV4cG9ydCB7IGZldGNoRGF0YSwgZmV0Y2hJbnRlcnZhbCB9O1xuIiwiaW1wb3J0ICogYXMgd2lraXBlZGlhUmVjZW50Q2hhbmdlcyBmcm9tIFwiLi93aWtpcGVkaWEvcmVjZW50Y2hhbmdlc1wiO1xuaW1wb3J0ICogYXMgaGFja2VyTmV3c05ld1N0b3JpZXMgZnJvbSBcIi4vaGFja2VyTmV3cy9uZXdzdG9yaWVzXCI7XG5pbXBvcnQgKiBhcyBoYWNrZXJOZXdzVG9wU3RvcmllcyBmcm9tIFwiLi9oYWNrZXJOZXdzL3RvcHN0b3JpZXNcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBcIldpa2lwZWRpYSAtIFJlY2VudCBjaGFuZ2VzXCI6IHdpa2lwZWRpYVJlY2VudENoYW5nZXMsXG4gIFwiSGFja2VyIE5ld3MgLSBOZXcgc3Rvcmllc1wiOiBoYWNrZXJOZXdzTmV3U3RvcmllcyxcbiAgXCJIYWNrZXIgTmV3cyAtIFRvcCBzdG9yaWVzXCI6IGhhY2tlck5ld3NUb3BTdG9yaWVzLFxufTtcbiIsImltcG9ydCBTY2FsZSBmcm9tIFwibXVzaWMtc2NhbGVcIjtcblxuY29uc3QgVE9OSUNTID0gW1wiQ1wiLCBcIkRcIiwgXCJFXCIsIFwiRlwiLCBcIkdcIiwgXCJBXCIsIFwiQlwiXTtcbmNvbnN0IFJPT1RfT0NUQVZFID0gMztcbmNvbnN0IE9DVEFWRV9SQU5HRSA9IDQ7XG5jb25zdCBTQ0FMRVMgPSBTY2FsZS5uYW1lcygpO1xuXG5jb25zdCBjcmVhdGVTY2FsZSA9IChuYW1lLCBub3RlKSA9PiB7XG4gIGNvbnN0IHNjYWxlID0gbmV3IFNjYWxlKG5hbWUsIG5vdGUpO1xuICByZXR1cm4gQXJyYXkuZnJvbShBcnJheShPQ1RBVkVfUkFOR0UpLmtleXMoKSkuZmxhdE1hcCgobykgPT5cbiAgICBzY2FsZS5tYXAoKHRvbmUpID0+IGAke3RvbmV9JHtST09UX09DVEFWRSArIG99YClcbiAgKTtcbn07XG5cbmV4cG9ydCB7IFRPTklDUywgU0NBTEVTLCBST09UX09DVEFWRSwgY3JlYXRlU2NhbGUgfTtcbiIsImltcG9ydCB7IFRPTklDUywgU0NBTEVTLCBjcmVhdGVTY2FsZSB9IGZyb20gXCIuL211c2ljXCI7XG5pbXBvcnQge1xuICBFVkVOVF9QTEFZLFxuICBFVkVOVF9QQVVTRSxcbiAgRVZFTlRfUkVTRVQsXG4gIEVWRU5UX1BMQVlCQUNLLFxuICBFVkVOVF9BVURJT19VUCxcbiAgRVZFTlRfQVVESU9fRE9XTixcbiAgRVZFTlRfQVVESU9fTE9BRElORyxcbiAgRVZFTlRfQVVESU9fTE9BREVELFxuICBFVkVOVF9EQVRBX0xPQURFRCxcbiAgRVZFTlRfVE9OSUNfQ0hBTkdFLFxuICBFVkVOVF9TQ0FMRV9DSEFOR0UsXG59IGZyb20gXCIuL2V2ZW50c1wiO1xuXG5jb25zdCBTQ09SRV9EVVJBVElPTl9QRVJfUE9JTlQgPSAwLjU7XG5jb25zdCBNSU5fTk9URV9EVVJBVElPTiA9IDI7XG5jb25zdCBNQVhfTk9URV9EVVJBVElPTiA9IDQ7XG5cbmNvbnN0IEFVRElPX09VVCA9IHtcbiAgd2F2ZWZvcm06IHVuZGVmaW5lZCxcbn07XG5cbmNvbnN0IGltcG9ydFRvbmUgPSAoKSA9PiBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJ0b25lXCIgKi8gXCJ0b25lXCIpO1xuXG5jb25zdCBjcmVhdGVTeW50aCA9ICh7IFBvbHlTeW50aCwgU3ludGggfSkgPT5cbiAgbmV3IFBvbHlTeW50aCg2NCwgU3ludGgsIHtcbiAgICBvc2NpbGxhdG9yOiB7XG4gICAgICB0eXBlOiBcInRyaWFuZ2xlXCIsXG4gICAgfSxcbiAgICBlbnZlbG9wZToge1xuICAgICAgYXR0YWNrOiBNSU5fTk9URV9EVVJBVElPTiAqIDAuNzUsXG4gICAgICBkZWNheTogTUFYX05PVEVfRFVSQVRJT04gKiAwLjc1LFxuICAgICAgc3VzdGFpbjogMC4wNSxcbiAgICAgIHJlbGVhc2U6IE1JTl9OT1RFX0RVUkFUSU9OLFxuICAgIH0sXG4gIH0pO1xuXG5jb25zdCBjcmVhdGVSZXZlcmIgPSAoeyBGcmVldmVyYiB9KSA9PiBuZXcgRnJlZXZlcmIoMC44LCA5MDAwKTtcblxuY29uc3QgY3JlYXRlVm9sdW1lID0gKHsgVm9sdW1lIH0pID0+IG5ldyBWb2x1bWUoLTEwKTtcblxuY29uc3QgY3JlYXRlTGltaXRlciA9ICh7IENvbXByZXNzb3IgfSkgPT4gbmV3IENvbXByZXNzb3IoLTUsIDE2KTtcblxuY29uc3QgY3JlYXRlQ29tcHJlc3NvciA9ICh7IENvbXByZXNzb3IgfSkgPT4gbmV3IENvbXByZXNzb3IoLTE1LCA4KTtcblxuY29uc3QgY3JlYXRlQ2hhbm5lbCA9ICh7IENoYW5uZWwgfSkgPT4gbmV3IENoYW5uZWwoLTIwKTtcblxuY29uc3QgaW5pdEVuZ2luZSA9IChUb25lKSA9PiB7XG4gIGNvbnN0IHsgV2F2ZWZvcm0sIE1hc3RlciB9ID0gVG9uZTtcbiAgbGV0IHRvbmljTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9uaWNcIikgfHwgVE9OSUNTWzBdO1xuICBsZXQgc2NhbGVOYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzY2FsZVwiKSB8fCBTQ0FMRVNbMF07XG4gIGxldCBkYXRhUG9pbnRzID0gW107XG4gIGxldCBwbGF5YmFja0luZGV4ID0gMDtcbiAgbGV0IHBsYXliYWNrVGltZW91dCA9IHVuZGVmaW5lZDtcblxuICBjb25zdCB3YXZlZm9ybSA9IG5ldyBXYXZlZm9ybSgxNiAqIDI1Nik7XG4gIGNvbnN0IHJldmVyYiA9IGNyZWF0ZVJldmVyYihUb25lKTtcbiAgY29uc3Qgdm9sdW1lID0gY3JlYXRlVm9sdW1lKFRvbmUpO1xuICBjb25zdCBsaW1pdGVyID0gY3JlYXRlTGltaXRlcihUb25lKTtcbiAgY29uc3QgY29tcHJlc3NvciA9IGNyZWF0ZUNvbXByZXNzb3IoVG9uZSk7XG4gIGNvbnN0IGNoYW5uZWwgPSBjcmVhdGVDaGFubmVsKFRvbmUpLmNoYWluKFxuICAgIGNvbXByZXNzb3IsXG4gICAgbGltaXRlcixcbiAgICByZXZlcmIsXG4gICAgd2F2ZWZvcm0sXG4gICAgdm9sdW1lLFxuICAgIE1hc3RlclxuICApO1xuICBjb25zdCBzeW50aCA9IGNyZWF0ZVN5bnRoKFRvbmUpLmNvbm5lY3QoY2hhbm5lbCk7XG5cbiAgY29uc3QgcGxheSA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQocGxheWJhY2tUaW1lb3V0KTtcbiAgICBpZiAoZGF0YVBvaW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgIHBsYXliYWNrVGltZW91dCA9IHNldFRpbWVvdXQocGxheSwgTUlOX05PVEVfRFVSQVRJT04pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IG1pblZhbHVlID0gZGF0YVBvaW50cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwKSA9PiBNYXRoLm1pbihhY2MsIHAudmFsdWUpLFxuICAgICAgSW5maW5pdHlcbiAgICApO1xuICAgIGNvbnN0IG1heFZhbHVlID0gZGF0YVBvaW50cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwKSA9PiBNYXRoLm1heChhY2MsIHAudmFsdWUpLFxuICAgICAgLUluZmluaXR5XG4gICAgKTtcbiAgICBjb25zdCBwb2ludCA9IGRhdGFQb2ludHNbcGxheWJhY2tJbmRleF07XG4gICAgY29uc3QgdmFsdWUgPSBwb2ludC52YWx1ZTtcbiAgICBjb25zdCBzY2FsZSA9IGNyZWF0ZVNjYWxlKHNjYWxlTmFtZSwgdG9uaWNOYW1lKTtcbiAgICBjb25zdCBwaXRjaCA9XG4gICAgICBzY2FsZVtcbiAgICAgICAgTWF0aC5yb3VuZChcbiAgICAgICAgICAoKHZhbHVlIC0gbWluVmFsdWUpICogKHNjYWxlLmxlbmd0aCAtIDEpKSAvIChtYXhWYWx1ZSAtIG1pblZhbHVlKVxuICAgICAgICApXG4gICAgICBdO1xuXG4gICAgY29uc3QgbWluVGltZXN0YW1wID0gZGF0YVBvaW50cy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwKSA9PiBNYXRoLm1pbihhY2MsIHAuc3RhcnQpLFxuICAgICAgSW5maW5pdHlcbiAgICApO1xuICAgIGNvbnN0IG1heFRpbWVzdGFtcCA9IGRhdGFQb2ludHMucmVkdWNlKFxuICAgICAgKGFjYywgcCkgPT4gTWF0aC5tYXgoYWNjLCBwLmVuZCksXG4gICAgICAtSW5maW5pdHlcbiAgICApO1xuICAgIGNvbnN0IHNjb3JlRHVyYXRpb24gPSBTQ09SRV9EVVJBVElPTl9QRVJfUE9JTlQgKiBkYXRhUG9pbnRzLmxlbmd0aDtcbiAgICBjb25zdCB0aWNrID0gc2NvcmVEdXJhdGlvbiAvIChtYXhUaW1lc3RhbXAgLSBtaW5UaW1lc3RhbXApO1xuXG4gICAgY29uc3QgZHVyYXRpb24gPSAocG9pbnQuZW5kIC0gcG9pbnQuc3RhcnQpICogdGljaztcbiAgICBzeW50aC50cmlnZ2VyQXR0YWNrUmVsZWFzZShcbiAgICAgIHBpdGNoLFxuICAgICAgTWF0aC5tYXgoTWF0aC5taW4oZHVyYXRpb24sIE1BWF9OT1RFX0RVUkFUSU9OKSwgTUlOX05PVEVfRFVSQVRJT04pXG4gICAgKTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KEVWRU5UX1BMQVlCQUNLLCB7XG4gICAgICAgIGRldGFpbDogeyB0aXRsZTogcG9pbnQudGl0bGUsIHBpdGNoLCBwbGF5YmFja0luZGV4IH0sXG4gICAgICB9KVxuICAgICk7XG5cbiAgICBwbGF5YmFja0luZGV4ID0gKHBsYXliYWNrSW5kZXggKyAxKSAlIGRhdGFQb2ludHMubGVuZ3RoO1xuICAgIGNvbnN0IG5leHRQb2ludCA9IGRhdGFQb2ludHNbcGxheWJhY2tJbmRleF07XG4gICAgcGxheWJhY2tUaW1lb3V0ID0gc2V0VGltZW91dChcbiAgICAgIHBsYXksXG4gICAgICAobmV4dFBvaW50LnN0YXJ0IC0gcG9pbnQuc3RhcnQgPj0gMFxuICAgICAgICA/IG5leHRQb2ludC5zdGFydCAtIHBvaW50LnN0YXJ0XG4gICAgICAgIDogcG9pbnQuZW5kIC0gcG9pbnQuc3RhcnQpICpcbiAgICAgICAgKHRpY2sgKiAxMDAwKVxuICAgICk7XG4gIH07XG5cbiAgY29uc3Qgb25Ub25pY0NoYW5nZSA9IChuYW1lKSA9PiB7XG4gICAgdG9uaWNOYW1lID0gbmFtZTtcbiAgfTtcbiAgY29uc3Qgb25TY2FsZUNoYW5nZSA9IChuYW1lKSA9PiB7XG4gICAgc2NhbGVOYW1lID0gbmFtZTtcbiAgfTtcbiAgY29uc3Qgb25QbGF5ID0gKCkgPT4ge1xuICAgIHBsYXkoKTtcbiAgfTtcbiAgY29uc3Qgb25QYXVzZSA9ICgpID0+IHtcbiAgICBzeW50aC5yZWxlYXNlQWxsKCk7XG4gICAgY2xlYXJUaW1lb3V0KHBsYXliYWNrVGltZW91dCk7XG4gIH07XG4gIGNvbnN0IG9uTG9hZERhdGEgPSAoZGF0YSA9IFtdKSA9PiB7XG4gICAgZGF0YVBvaW50cyA9IFsuLi5kYXRhXS5zb3J0KChhLCBiKSA9PiBhLnN0YXJ0IC0gYi5zdGFydCk7XG4gICAgb25SZXNldCgpO1xuICB9O1xuICBjb25zdCBvblJlc2V0ID0gKCkgPT4ge1xuICAgIHBsYXliYWNrSW5kZXggPSAwO1xuICB9O1xuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgIHdhdmVmb3JtLFxuICAgIG9uUGxheSxcbiAgICBvblBhdXNlLFxuICAgIG9uUmVzZXQsXG4gICAgb25Mb2FkRGF0YSxcbiAgICBvblRvbmljQ2hhbmdlLFxuICAgIG9uU2NhbGVDaGFuZ2UsXG4gIH0pO1xufTtcblxuY29uc3QgaW5pdEF1ZGlvID0gKCkgPT4ge1xuICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChFVkVOVF9BVURJT19MT0FESU5HKSk7XG4gIHJldHVybiBpbXBvcnRUb25lKClcbiAgICAudGhlbihpbml0RW5naW5lKVxuICAgIC50aGVuKCh7IHdhdmVmb3JtLCAuLi5ldmVudHMgfSkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBvblBsYXksXG4gICAgICAgIG9uUGF1c2UsXG4gICAgICAgIG9uUmVzZXQsXG4gICAgICAgIG9uTG9hZERhdGEsXG4gICAgICAgIG9uVG9uaWNDaGFuZ2UsXG4gICAgICAgIG9uU2NhbGVDaGFuZ2UsXG4gICAgICB9ID0gZXZlbnRzO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9QTEFZLCBvblBsYXkpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9QQVVTRSwgb25QYXVzZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX1JFU0VULCBvblJlc2V0KTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfREFUQV9MT0FERUQsICh7IGRldGFpbCB9KSA9PlxuICAgICAgICBvbkxvYWREYXRhKGRldGFpbClcbiAgICAgICk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX1RPTklDX0NIQU5HRSwgKHsgZGV0YWlsIH0pID0+XG4gICAgICAgIG9uVG9uaWNDaGFuZ2UoZGV0YWlsKVxuICAgICAgKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfU0NBTEVfQ0hBTkdFLCAoeyBkZXRhaWwgfSkgPT5cbiAgICAgICAgb25TY2FsZUNoYW5nZShkZXRhaWwpXG4gICAgICApO1xuXG4gICAgICBBVURJT19PVVQud2F2ZWZvcm0gPSB3YXZlZm9ybTtcblxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoRVZFTlRfQVVESU9fTE9BREVEKSk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChFVkVOVF9BVURJT19VUCkpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KEVWRU5UX0FVRElPX0RPV04pKTtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KEVWRU5UX0FVRElPX0xPQURFRCkpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xufTtcblxuZXhwb3J0IHsgaW5pdEF1ZGlvLCBTQ0FMRVMsIFRPTklDUywgQVVESU9fT1VUIH07XG4iLCJpbXBvcnQgZW5kcG9pbnRzIGZyb20gXCIuL2VuZHBvaW50c1wiO1xuaW1wb3J0IHsgU0NBTEVTLCBUT05JQ1MgfSBmcm9tIFwiLi9tdXNpY1wiO1xuaW1wb3J0IHsgQVVESU9fT1VUIH0gZnJvbSBcIi4vYXVkaW9cIjtcbmltcG9ydCB7XG4gIEVWRU5UX1BMQVksXG4gIEVWRU5UX1BBVVNFLFxuICBFVkVOVF9SRVNFVCxcbiAgRVZFTlRfUExBWUJBQ0ssXG4gIEVWRU5UX0FVRElPX1VQLFxuICBFVkVOVF9BVURJT19ET1dOLFxuICBFVkVOVF9BVURJT19MT0FESU5HLFxuICBFVkVOVF9BVURJT19MT0FERUQsXG4gIEVWRU5UX0RBVEFfTE9BRElORyxcbiAgRVZFTlRfREFUQV9MT0FERUQsXG4gIEVWRU5UX01FU1NBR0UsXG4gIEVWRU5UX1RPTklDX0NIQU5HRSxcbiAgRVZFTlRfU0NBTEVfQ0hBTkdFLFxuICBFVkVOVF9FTkRQT0lOVF9DSEFOR0UsXG59IGZyb20gXCIuL2V2ZW50c1wiO1xuXG5jb25zdCBNQVhfUExBWUxJU1RfQ09VTlQgPSAxMDtcbmNvbnN0IEZJTExfQ09MT1VSID0gXCIjMDBkZGRkXCI7XG5cbmNvbnN0IGNyZWF0ZUVuZHBvaW50U2VsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IGVuZHBvaW50U2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICBlbmRwb2ludFNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RvclwiKTtcbiAgZW5kcG9pbnRTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwiZW5kcG9pbnQtc2VsZWN0b3JcIik7XG4gIGVuZHBvaW50U2VsZWN0b3IuaWQgPSBcImVuZHBvaW50X3NlbGVjdG9yXCI7XG4gIE9iamVjdC5rZXlzKGVuZHBvaW50cykuZm9yRWFjaCgoZW5kcG9pbnQpID0+IHtcbiAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO1xuICAgIG9wdGlvbi52YWx1ZSA9IGVuZHBvaW50O1xuICAgIG9wdGlvbi50ZXh0Q29udGVudCA9IGVuZHBvaW50O1xuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImVuZHBvaW50XCIpID09PSBlbmRwb2ludCkge1xuICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgZW5kcG9pbnRTZWxlY3Rvci5hcHBlbmRDaGlsZChvcHRpb24pO1xuICB9KTtcbiAgZW5kcG9pbnRTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChldmVudCkgPT4ge1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoRVZFTlRfRU5EUE9JTlRfQ0hBTkdFLCB7IGRldGFpbDogZXZlbnQudGFyZ2V0LnZhbHVlIH0pXG4gICAgKTtcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImVuZHBvaW50XCIsIGV2ZW50LnRhcmdldC52YWx1ZSk7XG4gIH0pO1xuICBjb25zdCBlbmRwb2ludFNlbGVjdG9yQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgZW5kcG9pbnRTZWxlY3RvckNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiZW5kcG9pbnQtc2VsZWN0b3ItY29udGFpbmVyXCIpO1xuICBjb25zdCBlbmRwb2ludFNlbGVjdG9yTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG4gIGVuZHBvaW50U2VsZWN0b3JMYWJlbC50ZXh0Q29udGVudCA9IFwiU291cmNlOlwiO1xuICBlbmRwb2ludFNlbGVjdG9yTGFiZWwuaHRtbEZvciA9IFwiZW5kcG9pbnRfc2VsZWN0b3JcIjtcbiAgZW5kcG9pbnRTZWxlY3RvckNvbnRhaW5lci5hcHBlbmRDaGlsZChlbmRwb2ludFNlbGVjdG9yTGFiZWwpO1xuICBlbmRwb2ludFNlbGVjdG9yQ29udGFpbmVyLmFwcGVuZENoaWxkKGVuZHBvaW50U2VsZWN0b3IpO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGVuZHBvaW50U2VsZWN0b3JDb250YWluZXIpO1xufTtcblxuY29uc3QgY3JlYXRlVG9uaWNTZWxlY3RvciA9ICgpID0+IHtcbiAgY29uc3QgdG9uaWNTZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7XG4gIHRvbmljU2VsZWN0b3IuY2xhc3NMaXN0LmFkZChcInNlbGVjdG9yXCIpO1xuICB0b25pY1NlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJ0b25pYy1zZWxlY3RvclwiKTtcbiAgVE9OSUNTLmZvckVhY2goKHRvbmljKSA9PiB7XG4gICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICBvcHRpb24udmFsdWUgPSB0b25pYztcbiAgICBvcHRpb24udGV4dENvbnRlbnQgPSB0b25pYztcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b25pY1wiKSA9PT0gdG9uaWMpIHtcbiAgICAgIG9wdGlvbi5zZWxlY3RlZCA9IHRydWU7XG4gICAgfVxuICAgIHRvbmljU2VsZWN0b3IuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgfSk7XG4gIHRvbmljU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZXZlbnQpID0+IHtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgbmV3IEN1c3RvbUV2ZW50KEVWRU5UX1RPTklDX0NIQU5HRSwgeyBkZXRhaWw6IGV2ZW50LnRhcmdldC52YWx1ZSB9KVxuICAgICk7XG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0b25pY1wiLCBldmVudC50YXJnZXQudmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0b25pY1NlbGVjdG9yKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVNjYWxlU2VsZWN0b3IgPSAoKSA9PiB7XG4gIGNvbnN0IHNjYWxlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO1xuICBzY2FsZVNlbGVjdG9yLmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RvclwiKTtcbiAgc2NhbGVTZWxlY3Rvci5jbGFzc0xpc3QuYWRkKFwic2NhbGUtc2VsZWN0b3JcIik7XG4gIFNDQUxFUy5mb3JFYWNoKChzY2FsZSkgPT4ge1xuICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XG4gICAgb3B0aW9uLnZhbHVlID0gc2NhbGU7XG4gICAgb3B0aW9uLnRleHRDb250ZW50ID0gc2NhbGU7XG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2NhbGVcIikgPT09IHNjYWxlKSB7XG4gICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgIH1cbiAgICBzY2FsZVNlbGVjdG9yLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gIH0pO1xuICBzY2FsZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGV2ZW50KSA9PiB7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBDdXN0b21FdmVudChFVkVOVF9TQ0FMRV9DSEFOR0UsIHsgZGV0YWlsOiBldmVudC50YXJnZXQudmFsdWUgfSlcbiAgICApO1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2NhbGVcIiwgZXZlbnQudGFyZ2V0LnZhbHVlKTtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoc2NhbGVTZWxlY3Rvcik7XG59O1xuXG5jb25zdCBjcmVhdGVQbGF5QnV0dG9uID0gKCkgPT4ge1xuICBjb25zdCBwbGF5QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcGxheUJ1dHRvbi50ZXh0Q29udGVudCA9IFwiUGxheVwiO1xuICBwbGF5QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidG4tYXVkaW9cIik7XG4gIHBsYXlCdXR0b24uY2xhc3NMaXN0LmFkZChcInBhdXNlZFwiKTtcbiAgcGxheUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIHBsYXlCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgIG5ldyBFdmVudChcbiAgICAgICAgcGxheUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoXCJwYXVzZWRcIikgPyBFVkVOVF9QTEFZIDogRVZFTlRfUEFVU0VcbiAgICAgIClcbiAgICApXG4gICk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfUExBWSwgKCkgPT4ge1xuICAgIHBsYXlCdXR0b24uY2xhc3NMaXN0LnJlbW92ZShcInBhdXNlZFwiKTtcbiAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQYXVzZVwiO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9QQVVTRSwgKCkgPT4ge1xuICAgIHBsYXlCdXR0b24uY2xhc3NMaXN0LmFkZChcInBhdXNlZFwiKTtcbiAgICBwbGF5QnV0dG9uLnRleHRDb250ZW50ID0gXCJQbGF5XCI7XG4gIH0pO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKEVWRU5UX0FVRElPX1VQLCAoKSA9PiB7XG4gICAgcGxheUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9BVURJT19ET1dOLCAoKSA9PiB7XG4gICAgcGxheUJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH0pO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHBsYXlCdXR0b24pO1xufTtcblxuY29uc3QgY3JlYXRlUmVzZXRCdXR0b24gPSAoKSA9PiB7XG4gIGNvbnN0IHJlc2V0QnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcbiAgcmVzZXRCdXR0b24udGV4dENvbnRlbnQgPSBcIlJlc2V0XCI7XG4gIHJlc2V0QnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJidG4tcmVzZXRcIik7XG4gIHJlc2V0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgcmVzZXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICByZXNldEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoRVZFTlRfUkVTRVQpKTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfUExBWUJBQ0ssICh7IGRldGFpbDogeyBwbGF5YmFja0luZGV4IH0gfSkgPT4ge1xuICAgIHJlc2V0QnV0dG9uLmRpc2FibGVkID0gcGxheWJhY2tJbmRleCA9PT0gMDtcbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzZXRCdXR0b24pO1xufTtcblxuY29uc3QgY3JlYXRlTG9hZGVyID0gKCkgPT4ge1xuICBjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICBsb2FkZXIudGV4dENvbnRlbnQgPSBcIkxvYWRpbmcuLi5cIjtcbiAgbG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJsb2FkZXJcIik7XG4gIGNvbnN0IHNldFRleHRDb250ZW50ID0gKCkgPT4ge1xuICAgIGNvbnN0IGNsYXNzZXMgPSBBcnJheS5mcm9tKGxvYWRlci5jbGFzc0xpc3QpXG4gICAgICAuZmlsdGVyKChjKSA9PiBjLnN0YXJ0c1dpdGgoXCJsb2FkaW5nLVwiKSlcbiAgICAgIC5tYXAoKGMpID0+IGMucmVwbGFjZShcImxvYWRpbmctXCIsIFwiXCIpKTtcbiAgICBsb2FkZXIudGV4dENvbnRlbnQgPSBgTG9hZGluZyAke2NsYXNzZXMuam9pbihcIiwgXCIpfS4uLmA7XG4gIH07XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfQVVESU9fTE9BRElORywgKCkgPT4ge1xuICAgIGxvYWRlci5jbGFzc0xpc3QuYWRkKFwibG9hZGluZy1hdWRpb1wiKTtcbiAgICBzZXRUZXh0Q29udGVudCgpO1xuICB9KTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9BVURJT19MT0FERUQsICgpID0+IHtcbiAgICBsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShcImxvYWRpbmctYXVkaW9cIik7XG4gICAgc2V0VGV4dENvbnRlbnQoKTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfREFUQV9MT0FESU5HLCAoKSA9PiB7XG4gICAgbG9hZGVyLmNsYXNzTGlzdC5hZGQoXCJsb2FkaW5nLWRhdGFcIik7XG4gICAgc2V0VGV4dENvbnRlbnQoKTtcbiAgfSk7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfREFUQV9MT0FERUQsICgpID0+IHtcbiAgICBsb2FkZXIuY2xhc3NMaXN0LnJlbW92ZShcImxvYWRpbmctZGF0YVwiKTtcbiAgICBzZXRUZXh0Q29udGVudCgpO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShsb2FkZXIpO1xufTtcblxuY29uc3QgY3JlYXRlTWVzc2FnZSA9ICgpID0+IHtcbiAgY29uc3QgbWVzc2FnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIG1lc3NhZ2UuY2xhc3NMaXN0LmFkZChcIm1lc3NhZ2VcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRVZFTlRfTUVTU0FHRSwgKHsgZGV0YWlsIH0pID0+IHtcbiAgICBtZXNzYWdlLmNsYXNzTGlzdC5hZGQoXCJ2aXNpYmxlXCIpO1xuICAgIG1lc3NhZ2UudGV4dENvbnRlbnQgPSBkZXRhaWw7XG4gIH0pO1xuICBtZXNzYWdlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgbWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKFwidmlzaWJsZVwiKTtcbiAgICBtZXNzYWdlLnRleHRDb250ZW50ID0gdW5kZWZpbmVkO1xuICB9KTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShtZXNzYWdlKTtcbn07XG5cbmNvbnN0IGNyZWF0ZVBsYXlsaXN0ID0gKCkgPT4ge1xuICBjb25zdCBwbGF5bGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gIHBsYXlsaXN0LmNsYXNzTGlzdC5hZGQoXCJwbGF5bGlzdFwiKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihFVkVOVF9QTEFZQkFDSywgKHsgZGV0YWlsOiB7IHRpdGxlIH0gfSkgPT4ge1xuICAgIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgIGl0ZW0uY2xhc3NMaXN0LmFkZChcInBsYXlsaXN0LWl0ZW1cIik7XG4gICAgaXRlbS50ZXh0Q29udGVudCA9IHRpdGxlO1xuICAgIHBsYXlsaXN0LnByZXBlbmQoaXRlbSk7XG4gICAgd2hpbGUgKHBsYXlsaXN0LmNoaWxkRWxlbWVudENvdW50ID4gTUFYX1BMQVlMSVNUX0NPVU5UKSB7XG4gICAgICBwbGF5bGlzdC5yZW1vdmVDaGlsZChwbGF5bGlzdC5sYXN0Q2hpbGQpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUocGxheWxpc3QpO1xufTtcblxuY29uc3QgY3JlYXRlVmlzdWFsaXplciA9ICgpID0+IHtcbiAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgY2FudmFzLmNsYXNzTGlzdC5hZGQoXCJ2aXN1YWxpemVyXCIpO1xuICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgKCkgPT4ge1xuICAgIGNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH0pO1xuXG4gIGNvbnN0IHZpc3VhbGl6ZSA9ICgpID0+IHtcbiAgICBjb25zdCBzYW1wbGVzID0gQVVESU9fT1VULndhdmVmb3JtICYmIEFVRElPX09VVC53YXZlZm9ybS5nZXRWYWx1ZSgpO1xuICAgIGlmICghc2FtcGxlcykge1xuICAgICAgcmV0dXJuIHJlcXVlc3RBbmltYXRpb25GcmFtZSh2aXN1YWxpemUpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRleHQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gY2FudmFzO1xuXG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBGSUxMX0NPTE9VUjtcbiAgICBjb250ZXh0LmxpbmVDYXAgPSBcInJvdW5kXCI7XG4gICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICBjb250ZXh0Lm1vdmVUbygwLCBoZWlnaHQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2FtcGxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgeCA9IChpICogd2lkdGgpIC8gc2FtcGxlcy5sZW5ndGg7XG4gICAgICBjb25zdCB5ID0gKHNhbXBsZXNbaV0gKyAxKSAqIChoZWlnaHQgLyAyKTtcbiAgICAgIGNvbnRleHQubGluZVRvKHgsIHkpO1xuICAgIH1cbiAgICBjb250ZXh0LmxpbmVUbyh3aWR0aCwgaGVpZ2h0KTtcbiAgICBjb250ZXh0LmxpbmVUbygwLCBoZWlnaHQpO1xuICAgIGNvbnRleHQuZmlsbCgpO1xuXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHZpc3VhbGl6ZSk7XG4gIH07XG5cbiAgdmlzdWFsaXplKCk7XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjYW52YXMpO1xufTtcblxuY29uc3QgY3JlYXRlRWxlbWVudHMgPSAoKSA9PlxuICBQcm9taXNlLmFsbChbXG4gICAgY3JlYXRlVmlzdWFsaXplcigpLFxuICAgIGNyZWF0ZUVuZHBvaW50U2VsZWN0b3IoKSxcbiAgICBjcmVhdGVUb25pY1NlbGVjdG9yKCksXG4gICAgY3JlYXRlU2NhbGVTZWxlY3RvcigpLFxuICAgIGNyZWF0ZVBsYXlCdXR0b24oKSxcbiAgICBjcmVhdGVSZXNldEJ1dHRvbigpLFxuICAgIGNyZWF0ZU1lc3NhZ2UoKSxcbiAgICBjcmVhdGVMb2FkZXIoKSxcbiAgICBjcmVhdGVQbGF5bGlzdCgpLFxuICBdKTtcblxuY29uc3QgbW91bnRFbGVtZW50cyA9IChlbGVtZW50cykgPT4ge1xuICBPYmplY3QudmFsdWVzKGVsZW1lbnRzKS5mb3JFYWNoKChlbGVtZW50KSA9PlxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgKTtcbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUVsZW1lbnRzLCBtb3VudEVsZW1lbnRzIH07XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0ICogYXMgZXZlbnRzIGZyb20gXCIuL2V2ZW50c1wiO1xuaW1wb3J0IHsgY3JlYXRlRWxlbWVudHMsIG1vdW50RWxlbWVudHMgfSBmcm9tIFwiLi9lbGVtZW50c1wiO1xuaW1wb3J0IHsgaW5pdEF1ZGlvIH0gZnJvbSBcIi4vYXVkaW9cIjtcbmltcG9ydCB7IGluaXREYXRhIH0gZnJvbSBcIi4vZGF0YVwiO1xuXG5pZiAod2luZG93LkRFQlVHKSB7XG4gIE9iamVjdC52YWx1ZXMoZXZlbnRzKS5mb3JFYWNoKChldmVudCkgPT5cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCAoZSkgPT5cbiAgICAgIGNvbnNvbGUuaW5mbyhldmVudCwgLi4uKGUuZGV0YWlsID8gW2UuZGV0YWlsXSA6IFtdKSlcbiAgICApXG4gICk7XG59XG5cbmNyZWF0ZUVsZW1lbnRzKClcbiAgLnRoZW4oKGVsZW1lbnRzKSA9PiBtb3VudEVsZW1lbnRzKGVsZW1lbnRzKSlcbiAgLnRoZW4oKCkgPT4gaW5pdEF1ZGlvKCkpXG4gIC50aGVuKCgpID0+IGluaXREYXRhKCkpXG4gIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoXG4gICAgICBuZXcgQ3VzdG9tRXZlbnQoZXZlbnRzLkVWRU5UX01FU1NBR0UsIHsgZGV0YWlsOiBlcnIubWVzc2FnZSB9KVxuICAgICk7XG4gIH0pO1xuIiwiaW1wb3J0IHtcbiAgRVZFTlRfTUVTU0FHRSxcbiAgRVZFTlRfREFUQV9MT0FESU5HLFxuICBFVkVOVF9EQVRBX0xPQURFRCxcbiAgRVZFTlRfRU5EUE9JTlRfQ0hBTkdFLFxufSBmcm9tIFwiLi9ldmVudHNcIjtcblxuaW1wb3J0IGVuZHBvaW50cyBmcm9tIFwiLi9lbmRwb2ludHNcIjtcblxuY29uc3QgaW5pdERhdGEgPSAoKSA9PiB7XG4gIGxldCBmZXRjaFRpbWVvdXQgPSB1bmRlZmluZWQ7XG5cbiAgY29uc3QgZmV0Y2hFbmRwb2ludERhdGEgPSAoZW5kcG9pbnQpID0+IHtcbiAgICBjbGVhclRpbWVvdXQoZmV0Y2hUaW1lb3V0KTtcbiAgICByZXR1cm4gZW5kcG9pbnRcbiAgICAgIC5mZXRjaERhdGEoKVxuICAgICAgLnRoZW4oKGRldGFpbCkgPT5cbiAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgQ3VzdG9tRXZlbnQoRVZFTlRfREFUQV9MT0FERUQsIHsgZGV0YWlsIH0pKVxuICAgICAgKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBpZiAoZW5kcG9pbnQuZmV0Y2hJbnRlcnZhbCkge1xuICAgICAgICAgIGZldGNoVGltZW91dCA9IHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PiBmZXRjaEVuZHBvaW50RGF0YShlbmRwb2ludCksXG4gICAgICAgICAgICBlbmRwb2ludC5mZXRjaEludGVydmFsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KEVWRU5UX0RBVEFfTE9BREVEKSk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgRVZFTlRfRU5EUE9JTlRfQ0hBTkdFLFxuICAgICh7IGRldGFpbDogZW5kcG9pbnROYW1lIH0pID0+IHtcbiAgICAgIGNvbnN0IGVuZHBvaW50ID0gZW5kcG9pbnRzW2VuZHBvaW50TmFtZV07XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudChFVkVOVF9EQVRBX0xPQURJTkcpKTtcbiAgICAgIGZldGNoRW5kcG9pbnREYXRhKGVuZHBvaW50KS5jYXRjaCgoZXJyKSA9PlxuICAgICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgIG5ldyBDdXN0b21FdmVudChFVkVOVF9NRVNTQUdFLCB7IGRldGFpbDogZXJyLm1lc3NhZ2UgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICk7XG5cbiAgY29uc3QgZW5kcG9pbnROYW1lID1cbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImVuZHBvaW50XCIpIHx8IE9iamVjdC5rZXlzKGVuZHBvaW50cykuc2hpZnQoKTtcbiAgY29uc3QgZW5kcG9pbnQgPSBlbmRwb2ludHNbZW5kcG9pbnROYW1lXTtcbiAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoRVZFTlRfREFUQV9MT0FESU5HKSk7XG4gIHJldHVybiBmZXRjaEVuZHBvaW50RGF0YShlbmRwb2ludCk7XG59O1xuXG5leHBvcnQgeyBpbml0RGF0YSB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==